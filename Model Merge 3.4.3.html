<!DOCTYPE html>
<html lang="pl" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-i18n-key="pageTitle">Interaktywny przewodnik: Zaawansowane łączenie modeli</title>
    <script src="https://cdn.tailwindcss.com" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js" defer></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
        html { scroll-padding-top: 5rem; }
        body { font-family: 'Inter', sans-serif; background-color: #0f172a; color: #cbd5e1; }
        #shader-canvas { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; opacity: 0.4; }
        .content-wrapper { position: relative; z-index: 1; }
        .chart-container { position: relative; width: 100%; max-width: 900px; margin-left: auto; margin-right: auto; height: 400px; max-height: 50vh; }
        @media (min-width: 768px) { .chart-container { height: 450px; } }
        .version-btn, .recipe-btn, .lang-btn { transition: background-color 0.3s, border-color 0.3s, color 0.3s, box-shadow 0.3s, transform 0.3s; transform-style: preserve-3d; }
        .card { background-color: rgba(15, 23, 42, 0.6); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); border-radius: 0.75rem; border: 1px solid #334155; transition: all 0.3s ease-in-out; box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1); }
        .card:hover { box-shadow: 0 0 25px -5px rgba(79, 70, 229, 0.3); border-color: #4f46e5; transform: translateY(-4px) scale(1.02); }
        .version-btn, .recipe-btn, .lang-btn { background-color: rgba(30, 41, 59, 0.8); color: #e2e8f0; border: 1px solid #475569; box-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05); }
        .version-btn:hover, .recipe-btn:hover, .lang-btn:hover { background-color: #3730a3; border-color: #6366f1; color: white; }
        .version-btn.active, .recipe-btn.active, .lang-btn.active { background-color: #4f46e5; color: white; box-shadow: 0 0 15px rgba(99, 102, 241, 0.5); border-color: #6366f1; }
        .dare-panel { background: linear-gradient(145deg, #1e293b, #0f172a); border: 1px solid #334155; border-radius: 0.75rem; padding: 1.5rem; box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.3), 0 4px 6px -4px rgb(0 0 0 / 0.3); }
        .flow-arrow { font-family: monospace; font-weight: bold; }
        .info-panel { background-color: rgba(79, 70, 229, 0.1); border: 1px solid rgba(99, 102, 241, 0.3); color: #c7d2fe; }
    </style>
</head>
<body class="bg-slate-900">
    <canvas id="shader-canvas"></canvas>
    <div class="content-wrapper">
        <header class="bg-slate-900/50 backdrop-blur-lg sticky top-0 z-50 border-b border-slate-700">
            <nav class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex items-center justify-between h-16">
                    <div class="flex items-center">
                        <span class="font-bold text-lg text-slate-100" data-i18n-key="guideTitle"></span>
                    </div>
                    <div class="flex items-center space-x-8">
                        <div id="main-nav" class="flex items-center space-x-4 text-sm font-medium">
                            <a id="nav-blueprints" href="#sdxl-blueprints" class="text-slate-300 hover:text-white transition-colors" data-i18n-key="nav.blueprints"></a>
                            <a id="nav-recipes" href="#sdxl-recipes" class="text-slate-300 hover:text-white transition-colors" data-i18n-key="nav.recipes"></a>
                            <a href="#analysis" class="text-slate-300 hover:text-white transition-colors" data-i18n-key="nav.analysis"></a>
                            <a href="#glossary" class="text-slate-300 hover:text-white transition-colors" data-i18n-key="nav.glossary"></a>
                        </div>
                         <div class="flex items-center">
                            <button id="lang-pl" class="lang-btn active px-3 py-1 rounded-l-md text-xs font-medium">PL</button>
                            <button id="lang-en" class="lang-btn px-3 py-1 rounded-r-md text-xs font-medium">EN</button>
                        </div>
                    </div>
                </div>
            </nav>
        </header>

        <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
            <section class="text-center mb-16">
                <h1 class="text-4xl md:text-5xl font-bold text-slate-100 tracking-tight" data-i18n-key="header.title"></h1>
                <p class="mt-4 text-lg text-slate-400 max-w-3xl mx-auto" data-i18n-key="header.subtitle"></p>
            </section>

            <div id="strategy-selector" class="flex justify-center flex-wrap gap-4 mb-16 p-4 bg-slate-800/50 border border-slate-700 rounded-lg shadow-inner">
                <button id="select-sdxl" class="version-btn active px-6 py-3 rounded-md text-base font-medium" data-i18n-key="strategy.sdxl"></button>
                <button id="select-pony" class="version-btn px-6 py-3 rounded-md text-base font-medium" data-i18n-key="strategy.pony"></button>
                <button id="select-hybrid" class="version-btn px-6 py-3 rounded-md text-base font-medium" data-i18n-key="strategy.hybrid"></button>
            </div>

            <div id="sdxl-content">
                <section id="sdxl-blueprints" class="mb-24 scroll-mt-20">
                    <h2 class="text-3xl font-bold text-slate-100 mb-2" data-i18n-key="sdxl.blueprint.title"></h2>
                    <p class="text-slate-400 mb-10 max-w-4xl" data-i18n-key="sdxl.blueprint.description"></p>
                    <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6">
                        <div class="card p-6 flex flex-col"><h3 class="font-bold text-lg text-slate-100">Animij [Illustrious] V5.0</h3><p class="text-sm font-medium text-indigo-400 mb-2" data-i18n-key="sdxl.blueprint.card1.role"></p><p class="text-sm text-slate-400 flex-grow" data-i18n-key="sdxl.blueprint.card1.desc"></p></div>
                        <div class="card p-6 flex flex-col"><h3 class="font-bold text-lg text-slate-100">Graycolor SemiRealIllustMix</h3><p class="text-sm font-medium text-indigo-400 mb-2" data-i18n-key="sdxl.blueprint.card2.role"></p><p class="text-sm text-slate-400 flex-grow" data-i18n-key="sdxl.blueprint.card2.desc"></p></div>
                        <div class="card p-6 flex flex-col"><h3 class="font-bold text-lg text-slate-100">Boomer Art Model v2.0</h3><p class="text-sm font-medium text-amber-400 mb-2" data-i18n-key="sdxl.blueprint.card3.role"></p><p class="text-sm text-slate-400 flex-grow" data-i18n-key="sdxl.blueprint.card3.desc"></p></div>
                        <div class="card p-6 flex flex-col"><h3 class="font-bold text-lg text-slate-100">D34D.CH4NN3L.SDXL</h3><p class="text-sm font-medium text-red-400 mb-2" data-i18n-key="sdxl.blueprint.card4.role"></p><p class="text-sm text-slate-400 flex-grow" data-i18n-key="sdxl.blueprint.card4.desc"></p></div>
                    </div>
                </section>
                <section id="sdxl-recipes" class="mb-24 scroll-mt-20">
                     <h2 class="text-3xl font-bold text-slate-100 mb-2" data-i18n-key="sdxl.recipes.title"></h2>
                     <div class="card p-6 md:p-8 mb-12">
                         <h3 class="text-xl font-bold text-slate-100 mb-4" data-i18n-key="sdxl.recipes.step1.title"></h3>
                         <p class="text-sm text-slate-400 mb-6" data-i18n-key="sdxl.recipes.step1.desc"></p>
                         <div class="flex justify-center flex-wrap gap-4 mb-6" id="sdxl-recipe-buttons">
                             <button data-recipe="balanced" class="recipe-btn active px-4 py-2 rounded-md text-sm font-medium" data-i18n-key="sdxl.recipes.step1.btnBalanced"></button>
                             <button data-recipe="host_dominant" class="recipe-btn px-4 py-2 rounded-md text-sm font-medium" data-i18n-key="sdxl.recipes.step1.btnHost"></button>
                             <button data-recipe="donor_receptive" class="recipe-btn px-4 py-2 rounded-md text-sm font-medium" data-i18n-key="sdxl.recipes.step1.btnDonor"></button>
                         </div>
                         <div id="sdxl-recipe-explanation" class="mb-6 p-4 info-panel rounded-md text-sm"></div>
                         <div class="chart-container lazy-chart" id="sdxlChartContainer"><canvas id="sdxlChart"></canvas></div>
                         <div id="sdxl-justification" class="mt-6 p-4 bg-slate-800 rounded-md text-sm text-slate-400 min-h-[60px]" data-i18n-key="chart.hoverPrompt"></div>
                     </div>
                     <div class="card p-6 md:p-8 mb-12">
                         <h3 class="text-xl font-bold text-slate-100 mb-4" data-i18n-key="sdxl.recipes.step2.title"></h3>
                         <p class="text-sm text-slate-400 mb-6" data-i18n-key="sdxl.recipes.step2.desc"></p>
                         <div class="grid md:grid-cols-1 gap-8">
                             <div class="dare-panel">
                                 <h4 class="font-bold text-lg text-slate-200 mb-4 text-center" data-i18n-key="sdxl.recipes.step2a.title"></h4>
                                 <div class="grid grid-cols-1 md:grid-cols-2 gap-6 items-start">
                                     <div>
                                         <h5 class="text-sm font-semibold text-indigo-300 mb-2" data-i18n-key="dare.trim.title"></h5>
                                         <p class="text-xs text-slate-400 mb-4" data-i18n-key="sdxl.recipes.step2a.trimDesc"></p>
                                         <p class="text-xs"><strong class="text-slate-300">model_a:</strong> <span data-i18n-key="dare.hostFromStep1"></span></p>
                                         <p class="text-xs"><strong class="text-slate-300">model_b:</strong> sd_xl_base_1.0</p>
                                         <p class="text-xs"><strong class="text-slate-300">threshold:</strong> 0.60</p>
                                         <p class="text-xs"><strong class="text-slate-300">threshold_type:</strong> quantile</p>
                                     </div>
                                     <div>
                                         <h5 class="text-sm font-semibold text-amber-300 mb-2" data-i18n-key="dare.merge.title"></h5>
                                         <p class="text-xs text-slate-400 mb-4" data-i18n-key="dare.merge.desc"></p>
                                         <p class="text-xs"><strong class="text-slate-300">model1:</strong> <span data-i18n-key="dare.hostFromStep1"></span></p>
                                         <p class="text-xs"><strong class="text-slate-300">model2:</strong> Boomer Art Model</p>
                                         <p class="text-xs"><strong class="text-slate-300">base_model:</strong> sd_xl_base_1.0</p>
                                         <p class="text-xs"><strong class="text-slate-300">density:</strong> 0.45</p>
                                         <p class="text-xs"><strong class="text-slate-300">ties_mode:</strong> sum</p>
                                     </div>
                                 </div>
                                 <div class="mt-6 pt-4 border-t border-slate-700">
                                     <h5 class="text-sm font-semibold text-slate-300 mb-2" data-i18n-key="dare.justification"></h5>
                                     <p class="text-xs text-slate-400" data-i18n-key="sdxl.recipes.step2a.justification"></p>
                                 </div>
                             </div>
                         </div>
                     </div>
                </section>
            </div>
            <div id="pony-content" class="hidden">
                 <section id="pony-blueprints" class="mb-24 scroll-mt-20">
                     <h2 class="text-3xl font-bold text-slate-100 mb-2" data-i18n-key="pony.blueprint.title"></h2>
                     <p class="text-slate-400 mb-10 max-w-4xl" data-i18n-key="pony.blueprint.description"></p>
                     <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6">
                         <div class="card p-6 flex flex-col"><h3 class="font-bold text-lg text-slate-100">JANKU V4.0</h3><p class="text-sm font-medium text-indigo-400 mb-2" data-i18n-key="pony.blueprint.card1.role"></p><p class="text-sm text-slate-400 flex-grow" data-i18n-key="pony.blueprint.card1.desc"></p></div>
                         <div class="card p-6 flex flex-col"><h3 class="font-bold text-lg text-slate-100">NEW ERA V5.0</h3><p class="text-sm font-medium text-indigo-400 mb-2" data-i18n-key="pony.blueprint.card2.role"></p><p class="text-sm text-slate-400 flex-grow" data-i18n-key="pony.blueprint.card2.desc"></p></div>
                         <div class="card p-6 flex flex-col"><h3 class="font-bold text-lg text-slate-100">Graycolor SemiRealIllustMix</h3><p class="text-sm font-medium text-amber-400 mb-2" data-i18n-key="pony.blueprint.card3.role"></p><p class="text-sm text-slate-400 flex-grow" data-i18n-key="pony.blueprint.card3.desc"></p></div>
                         <div class="card p-6 flex flex-col"><h3 class="font-bold text-lg text-slate-100">SinGlo V2.0</h3><p class="text-sm font-medium text-amber-400 mb-2" data-i18n-key="pony.blueprint.card4.role"></p><p class="text-sm text-slate-400 flex-grow" data-i18n-key="pony.blueprint.card4.desc"></p></div>
                     </div>
                 </section>
                 <section id="pony-recipes" class="mb-24 scroll-mt-20">
                     <h2 class="text-3xl font-bold text-slate-100 mb-2" data-i18n-key="pony.recipes.title"></h2>
                     <div class="card p-6 md:p-8 mb-12">
                         <h3 class="text-xl font-bold text-slate-100 mb-4" data-i18n-key="pony.recipes.step1.title"></h3>
                         <p class="text-sm text-slate-400 mb-6" data-i18n-key="pony.recipes.step1.desc"></p>
                         <div class="flex justify-center flex-wrap gap-4 mb-6" id="pony-recipe-buttons">
                             <button data-recipe="stage1" class="recipe-btn active px-4 py-2 rounded-md text-sm font-medium" data-i18n-key="pony.recipes.step1.btnStage1"></button>
                             <button data-recipe="stage2" class="recipe-btn px-4 py-2 rounded-md text-sm font-medium" data-i18n-key="pony.recipes.step1.btnStage2"></button>
                             <button data-recipe="stage3" class="recipe-btn px-4 py-2 rounded-md text-sm font-medium" data-i18n-key="pony.recipes.step1.btnStage3"></button>
                         </div>
                         <div id="pony-recipe-explanation" class="mb-6 p-4 info-panel rounded-md text-sm"></div>
                         <div class="chart-container lazy-chart" id="ponyChartContainer"><canvas id="ponyChart"></canvas></div>
                         <div id="pony-justification" class="mt-6 p-4 bg-slate-800 rounded-md text-sm text-slate-400 min-h-[60px]" data-i18n-key="chart.hoverPrompt"></div>
                     </div>
                     <div class="card p-8">
                         <h3 class="text-xl font-bold text-slate-100 mb-4" data-i18n-key="pony.assembly.title"></h3>
                         <p class="text-sm text-slate-400 mb-6" data-i18n-key="pony.assembly.desc"></p>
                         <div class="grid md:grid-cols-2 gap-8">
                             <div>
                                 <h4 class="font-bold text-lg text-slate-200 mb-4" data-i18n-key="pony.assembly.clip.title"></h4>
                                 <p class="text-sm text-slate-400 mb-4" data-i18n-key="pony.assembly.clip.desc"></p>
                                 <div class="flex flex-col space-y-2 text-center text-xs font-semibold">
                                     <div class="p-2 border border-indigo-500/50 rounded-lg bg-indigo-900/20">
                                         <p class="font-medium mb-1 text-indigo-300" data-i18n-key="clip.merge.noobai.title"></p>
                                         <div class="flex justify-around items-center"><div class="p-2 bg-indigo-500/30 rounded-md text-indigo-200">JANKU CLIP</div><div class="text-slate-400 flow-arrow">+</div><div class="p-2 bg-indigo-500/30 rounded-md text-indigo-200">NEW ERA CLIP</div></div>
                                         <div class="self-center mt-1 text-slate-400 flow-arrow">↓ <span class="font-normal" data-i18n-key="clip.merge.noobai.weights"></span></div>
                                     </div>
                                     <div class="p-2 border border-amber-500/50 rounded-lg bg-amber-900/20">
                                         <p class="font-medium mb-1 text-amber-300" data-i18n-key="clip.merge.illustrious.title"></p>
                                         <div class="flex justify-around items-center"><div class="p-2 bg-amber-500/30 rounded-md text-amber-200">Graycolor CLIP</div><div class="text-slate-400 flow-arrow">+</div><div class="p-2 bg-amber-500/30 rounded-md text-amber-200">SinGlo CLIP</div></div>
                                         <div class="self-center mt-1 text-slate-400 flow-arrow">↓ <span class="font-normal" data-i18n-key="clip.merge.illustrious.weights"></span></div>
                                     </div>
                                     <div class="p-2 border border-slate-500 rounded-lg bg-slate-800/30">
                                        <p class="font-medium mb-1 text-slate-300" data-i18n-key="clip.merge.pony.title"></p>
                                        <div class="flex justify-around items-center"><div class="p-2 bg-indigo-500/50 rounded-md text-indigo-100" data-i18n-key="clip.merge.noobai.result"></div><div class="text-slate-400 font-thin text-xl flow-arrow">+</div><div class="p-2 bg-amber-500/50 rounded-md text-amber-100" data-i18n-key="clip.merge.illustrious.result"></div></div>
                                        <div class="self-center mt-1 text-slate-400 flow-arrow">↓ <span class="font-normal" data-i18n-key="clip.merge.pony.weights"></span></div>
                                        <div class="p-3 bg-slate-200 rounded-lg text-slate-900 mx-auto mt-2" data-i18n-key="clip.merge.pony.final"></div>
                                     </div>
                                 </div>
                             </div>
                             <div>
                                 <h4 class="font-bold text-lg text-slate-200 mb-4" data-i18n-key="vae.title"></h4>
                                 <p class="text-sm text-slate-400 mb-6" data-i18n-key="pony.assembly.vae.desc"></p>
                                 <div class="bg-indigo-900/30 border-2 border-dashed border-indigo-500/50 p-4 rounded-lg text-center">
                                     <p class="font-semibold text-indigo-200" data-i18n-key="vae.recommendation"></p>
                                     <p class="text-indigo-300">Use the VAE built into `JANKU V4.0`.</p>
                                     <p class="text-xs mt-2 text-indigo-400" data-i18n-key="pony.assembly.vae.justification"></p>
                                 </div>
                             </div>
                         </div>
                     </div>
                 </section>
            </div>
             
            <div id="hybrid-content" class="hidden">
                 <section id="hybrid-blueprints" class="mb-24 scroll-mt-20">
                     <h2 class="text-3xl font-bold text-slate-100 mb-2" data-i18n-key="hybrid.blueprint.title"></h2>
                     <p class="text-slate-400 mb-10 max-w-4xl" data-i18n-key="hybrid.blueprint.description"></p>
                     <div class="grid md:grid-cols-2 lg:grid-cols-5 gap-6">
                         <div class="card p-6 flex flex-col"><h3 class="font-bold text-lg text-slate-100">JANKU V4.0</h3><p class="text-sm font-medium text-indigo-400 mb-2" data-i18n-key="hybrid.blueprint.card1.role"></p><p class="text-sm text-slate-400 flex-grow" data-i18n-key="hybrid.blueprint.card1.desc"></p></div>
                         <div class="card p-6 flex flex-col"><h3 class="font-bold text-lg text-slate-100">NEW ERA V5.0</h3><p class="text-sm font-medium text-indigo-400 mb-2" data-i18n-key="hybrid.blueprint.card2.role"></p><p class="text-sm text-slate-400 flex-grow" data-i18n-key="hybrid.blueprint.card2.desc"></p></div>
                         <div class="card p-6 flex flex-col"><h3 class="font-bold text-lg text-slate-100">Graycolor</h3><p class="text-sm font-medium text-amber-400 mb-2" data-i18n-key="hybrid.blueprint.card3.role"></p><p class="text-sm text-slate-400 flex-grow" data-i18n-key="hybrid.blueprint.card3.desc"></p></div>
                         <div class="card p-6 flex flex-col"><h3 class="font-bold text-lg text-slate-100">SinGlo V2.0</h3><p class="text-sm font-medium text-amber-400 mb-2" data-i18n-key="hybrid.blueprint.card4.role"></p><p class="text-sm text-slate-400 flex-grow" data-i18n-key="hybrid.blueprint.card4.desc"></p></div>
                         <div class="card p-6 flex flex-col ring-2 ring-red-500/50"><h3 class="font-bold text-lg text-slate-100">Boomer Art (SDXL)</h3><p class="text-sm font-medium text-red-400 mb-2" data-i18n-key="hybrid.blueprint.card5.role"></p><p class="text-sm text-slate-400 flex-grow" data-i18n-key="hybrid.blueprint.card5.desc"></p></div>
                     </div>
                 </section>
                 <section id="hybrid-recipes" class="mb-24 scroll-mt-20">
                     <h2 class="text-3xl font-bold text-slate-100 mb-2" data-i18n-key="hybrid.recipes.title"></h2>
                     <div class="card p-6 md:p-8 mb-12">
                         <h3 class="text-xl font-bold text-slate-100 mb-4" data-i18n-key="hybrid.recipes.step1.title"></h3>
                         <p class="text-sm text-slate-400 mb-6" data-i18n-key="hybrid.recipes.step1.desc"></p>
                         <div class="flex justify-center flex-wrap gap-4 mb-6" id="hybrid-recipe-buttons">
                             <button data-recipe="stage1" class="recipe-btn active px-4 py-2 rounded-md text-sm font-medium" data-i18n-key="hybrid.recipes.step1.btnStage1"></button>
                             <button data-recipe="stage2" class="recipe-btn px-4 py-2 rounded-md text-sm font-medium" data-i18n-key="hybrid.recipes.step1.btnStage2"></button>
                             <button data-recipe="stage3" class="recipe-btn px-4 py-2 rounded-md text-sm font-medium" data-i18n-key="hybrid.recipes.step1.btnStage3"></button>
                             <button data-recipe="stage4" class="recipe-btn px-4 py-2 rounded-md text-sm font-medium" data-i18n-key="hybrid.recipes.step1.btnStage4"></button>
                         </div>
                         <div id="hybrid-recipe-explanation" class="mb-6 p-4 info-panel rounded-md text-sm"></div>
                         <div class="chart-container lazy-chart" id="hybridChartContainer"><canvas id="hybridChart"></canvas></div>
                         <div id="hybrid-justification" class="mt-6 p-4 bg-slate-800 rounded-md text-sm text-slate-400 min-h-[60px]" data-i18n-key="chart.hoverPrompt"></div>
                     </div>
                     <div class="card p-8">
                         <h3 class="text-xl font-bold text-slate-100 mb-4" data-i18n-key="hybrid.assembly.title"></h3>
                         <p class="text-sm text-slate-400 mb-6" data-i18n-key="hybrid.assembly.desc"></p>
                         <div class="grid md:grid-cols-2 gap-8">
                             <div>
                                 <h4 class="font-bold text-lg text-slate-200 mb-4" data-i18n-key="hybrid.assembly.clip.title"></h4>
                                 <p class="text-sm text-slate-400 mb-4" data-i18n-key="hybrid.assembly.clip.desc"></p>
                                 <div class="flex flex-col space-y-2 text-center text-xs font-semibold">
                                     <div class="p-2 border border-purple-500/50 rounded-lg bg-purple-900/20">
                                         <p class="font-medium mb-1 text-purple-300" data-i18n-key="hybrid.assembly.clip.step1Title"></p>
                                         <div class="flex flex-col space-y-2">
                                              <div class="p-2 border border-indigo-500/50 rounded-lg bg-indigo-900/20">
                                                 <p class="font-medium mb-1 text-indigo-300" data-i18n-key="clip.merge.noobai.title"></p>
                                                 <div class="flex justify-around items-center"><div class="p-2 bg-indigo-500/30 rounded-md text-indigo-200">JANKU CLIP</div><div class="text-slate-400 flow-arrow">+</div><div class="p-2 bg-indigo-500/30 rounded-md text-indigo-200">NEW ERA CLIP</div></div>
                                                 <div class="self-center mt-1 text-slate-400 flow-arrow">↓ <span class="font-normal" data-i18n-key="clip.merge.noobai.weights"></span></div>
                                              </div>
                                              <div class="self-center text-slate-400 flow-arrow">+</div>
                                              <div class="p-2 border border-amber-500/50 rounded-lg bg-amber-900/20">
                                                 <p class="font-medium mb-1 text-amber-300" data-i18n-key="clip.merge.illustrious.title"></p>
                                                 <div class="flex justify-around items-center"><div class="p-2 bg-amber-500/30 rounded-md text-amber-200">Graycolor CLIP</div><div class="text-slate-400 flow-arrow">+</div><div class="p-2 bg-amber-500/30 rounded-md text-amber-200">SinGlo CLIP</div></div>
                                                 <div class="self-center mt-1 text-slate-400 flow-arrow">↓ <span class="font-normal" data-i18n-key="clip.merge.illustrious.weights"></span></div>
                                              </div>
                                         </div>
                                         <div class="self-center mt-2 text-slate-400 flow-arrow">↓ <span class="font-normal" data-i18n-key="clip.merge.hybrid.ponyweights"></span></div>
                                         <div class="p-2 bg-purple-500/50 rounded-md text-purple-100 mt-1" data-i18n-key="clip.merge.pony.result"></div>
                                     </div>
                                     <div class="self-center mt-1 text-slate-400 flow-arrow text-2xl">↓</div>
                                    <div class="p-2 border border-slate-500 rounded-lg bg-slate-800/30">
                                        <p class="font-medium mb-1 text-slate-300" data-i18n-key="hybrid.assembly.clip.step2Title"></p>
                                        <div class="flex justify-around items-center"><div class="p-2 bg-purple-500/50 rounded-md text-purple-100">Pony Base CLIP</div><div class="text-slate-400 font-thin text-xl flow-arrow">+</div><div class="p-2 bg-red-500/50 rounded-md text-red-100">SDXL CLIP</div></div>
                                        <div class="self-center mt-1 text-slate-400 flow-arrow">↓ <span class="font-normal" data-i18n-key="clip.merge.hybrid.finalweights"></span></div>
                                        <div class="p-3 bg-slate-200 rounded-lg text-slate-900 mx-auto mt-2" data-i18n-key="hybrid.assembly.clip.final"></div>
                                    </div>
                                 </div>
                                 <div class="dare-panel mt-6">
                                     <h5 class="text-sm font-semibold text-slate-300 mb-2" data-i18n-key="hybrid.assembly.clip.noteTitle"></h5>
                                     <p class="text-xs text-slate-400" data-i18n-key="hybrid.assembly.clip.noteDesc"></p>
                                 </div>
                             </div>
                             <div>
                                 <h4 class="font-bold text-lg text-slate-200 mb-4" data-i18n-key="vae.title"></h4>
                                 <p class="text-sm text-slate-400 mb-6" data-i18n-key="hybrid.assembly.vae.desc"></p>
                                 <div class="bg-indigo-900/30 border-2 border-dashed border-indigo-500/50 p-4 rounded-lg text-center">
                                     <p class="font-semibold text-indigo-200" data-i18n-key="vae.recommendation"></p>
                                     <p class="text-indigo-300">Use the VAE built into `JANKU V4.0`.</p>
                                     <p class="text-xs mt-2 text-indigo-400" data-i18n-key="hybrid.assembly.vae.justification"></p>
                                 </div>
                             </div>
                         </div>
                     </div>
                 </section>
            </div>
            <section id="analysis" class="mb-24 scroll-mt-20">
                 <h2 class="text-3xl font-bold text-slate-100 mb-2" data-i18n-key="analysis.title"></h2>
                 <p class="text-slate-400 mb-10 max-w-4xl" data-i18n-key="analysis.desc"></p>
                <div class="overflow-x-auto card p-2 md:p-6">
                    <table class="w-full text-left text-sm">
                        <thead class="bg-slate-800/50 text-slate-200">
                            <tr>
                                <th class="p-3 font-semibold" data-i18n-key="analysis.table.header1"></th>
                                <th class="p-3 font-semibold" data-i18n-key="strategy.sdxl"></th>
                                <th class="p-3 font-semibold" data-i18n-key="strategy.pony"></th>
                                <th class="p-3 font-semibold" data-i18n-key="strategy.hybrid"></th>
                            </tr>
                        </thead>
                        <tbody class="divide-y divide-slate-700">
                            <tr class="hover:bg-slate-800/30">
                                <td class="p-3 font-medium text-slate-200" data-i18n-key="analysis.table.row1.title"></td>
                                <td class="p-3" data-i18n-key="analysis.table.row1.col1"></td>
                                <td class="p-3" data-i18n-key="analysis.table.row1.col2"></td>
                                <td class="p-3" data-i18n-key="analysis.table.row1.col3"></td>
                            </tr>
                            <tr class="hover:bg-slate-800/30">
                                <td class="p-3 font-medium text-slate-200" data-i18n-key="analysis.table.row2.title"></td>
                                <td class="p-3" data-i18n-key="analysis.table.row2.col1"></td>
                                <td class="p-3" data-i18n-key="analysis.table.row2.col2"></td>
                                <td class="p-3" data-i18n-key="analysis.table.row2.col3"></td>
                            </tr>
                            <tr class="hover:bg-slate-800/30">
                                <td class="p-3 font-medium text-slate-200" data-i18n-key="analysis.table.row3.title"></td>
                                <td class="p-3" data-i18n-key="analysis.table.row3.col1"></td>
                                <td class="p-3" data-i18n-key="analysis.table.row3.col2"></td>
                                <td class="p-3" data-i18n-key="analysis.table.row3.col3"></td>
                            </tr>
                            <tr class="hover:bg-slate-800/30">
                                <td class="p-3 font-medium text-slate-200" data-i18n-key="analysis.table.row4.title"></td>
                                <td class="p-3" data-i18n-key="analysis.table.row4.col1"></td>
                                <td class="p-3" data-i18n-key="analysis.table.row4.col2"></td>
                                <td class="p-3" data-i18n-key="analysis.table.row4.col3"></td>
                            </tr>
                             <tr class="hover:bg-slate-800/30">
                                 <td class="p-3 font-medium text-slate-200" data-i18n-key="analysis.table.row5.title"></td>
                                 <td class="p-3" data-i18n-key="analysis.table.row5.col1"></td>
                                 <td class="p-3" data-i18n-key="analysis.table.row5.col2"></td>
                                 <td class="p-3" data-i18n-key="analysis.table.row5.col3"></td>
                             </tr>
                        </tbody>
                    </table>
                </div>
                 <div class="mt-8 p-6 bg-indigo-900/30 border border-indigo-500/50 rounded-lg">
                     <h3 class="font-bold text-lg text-indigo-200 mb-2" data-i18n-key="analysis.recommendation.title"></h3>
                     <p class="text-indigo-300" data-i18n-key="analysis.recommendation.p1"></p>
                     <p class="mt-2 text-sm text-indigo-400" data-i18n-key="analysis.recommendation.p2"></p>
                 </div>
            </section>

            <section id="glossary" class="mb-24 scroll-mt-20">
                 <h2 class="text-3xl font-bold text-slate-100 mb-2" data-i18n-key="glossary.title"></h2>
                 <p class="text-slate-400 mb-10 max-w-4xl" data-i18n-key="glossary.desc"></p>
                <div class="grid md:grid-cols-2 gap-6">
                    <div class="card p-6"> <h3 class="font-bold text-lg text-slate-200 mb-2" data-i18n-key="glossary.term1.title"></h3> <p class="text-sm text-slate-400" data-i18n-key="glossary.term1.desc"></p> </div>
                    <div class="card p-6"> <h3 class="font-bold text-lg text-slate-200 mb-2" data-i18n-key="glossary.term2.title"></h3> <p class="text-sm text-slate-400" data-i18n-key="glossary.term2.desc"></p> <ul class="text-sm text-slate-400 mt-2 list-disc list-inside space-y-1"> <li data-i18n-key="glossary.term2.li1"></li> <li data-i18n-key="glossary.term2.li2"></li> </ul> </div>
                    <div class="card p-6"> <h3 class="font-bold text-lg text-slate-200 mb-2" data-i18n-key="glossary.term3.title"></h3> <p class="text-sm text-slate-400" data-i18n-key="glossary.term3.desc"></p> </div>
                    <div class="card p-6"> <h3 class="font-bold text-lg text-slate-200 mb-2" data-i18n-key="glossary.term4.title"></h3> <p class="text-sm text-slate-400" data-i18n-key="glossary.term4.desc"></p> </div>
                    <div class="card p-6"> <h3 class="font-bold text-lg text-slate-200 mb-2" data-i18n-key="glossary.term5.title"></h3> <p class="text-sm text-slate-400" data-i18n-key="glossary.term5.desc"></p> </div>
                    <div class="card p-6"> <h3 class="font-bold text-lg text-slate-200 mb-2" data-i18n-key="glossary.term6.title"></h3> <p class="text-sm text-slate-400" data-i18n-key="glossary.term6.desc"></p> </div>
                </div>
            </section>
        </main>

        <footer class="bg-slate-900/50 mt-24 border-t border-slate-700">
            <div class="max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8 text-center text-sm text-slate-500">
                <p data-i18n-key="footer.text"></p>
            </div>
        </footer>
    </div>

<script>
document.addEventListener('DOMContentLoaded', () => {

    // --- OPTIMIZATION: WEBGL SHADER CONTROL ---
    let animationFrameId;
    let isTabVisible = true;
    let gl, program, positionAttributeLocation, resolutionUniformLocation, timeUniformLocation;

    function initShaderBackground() {
        const canvas = document.getElementById('shader-canvas');
        try {
            gl = canvas.getContext('webgl', { antialias: false, powerPreference: 'low-power' });
            if (!gl) { console.error("WebGL not supported"); return; }
            
            const vertexShaderSource = `attribute vec2 a_position; void main() { gl_Position = vec4(a_position, 0.0, 1.0); }`;
            const fragmentShaderSource = `
                precision lowp float;
                uniform vec2 u_resolution;
                uniform float u_time;
                float random(vec2 st) { return fract(sin(dot(st.xy, vec2(12.9898,78.233))) * 43758.5453); }
                float noise(vec2 st) {
                    vec2 i = floor(st); vec2 f = fract(st);
                    vec2 u = f*f*(3.0-2.0*f);
                    return mix(mix(random(i), random(i + vec2(1.0,0.0)), u.x),
                               mix(random(i + vec2(0.0,1.0)), random(i + vec2(1.0,1.0)), u.x), u.y);
                }
                void main() {
                    vec2 st = gl_FragCoord.xy/u_resolution.xy * 2.0;
                    st.x *= u_resolution.x/u_resolution.y;
                    float n = noise(st * 4.0 + u_time * 0.1);
                    gl_FragColor = vec4(vec3(n * 0.1, n * 0.15, n * 0.25), 1.0);
                }`;
            
             function createShader(type, source) { const shader = gl.createShader(type); gl.shaderSource(shader, source); gl.compileShader(shader); if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) { console.error('Shader error: ' + gl.getShaderInfoLog(shader)); gl.deleteShader(shader); return null; } return shader; }
             const vertexShader = createShader(gl.VERTEX_SHADER, vertexShaderSource);
             const fragmentShader = createShader(gl.FRAGMENT_SHADER, fragmentShaderSource);
             program = gl.createProgram(); gl.attachShader(program, vertexShader); gl.attachShader(program, fragmentShader); gl.linkProgram(program);
             if (!gl.getProgramParameter(program, gl.LINK_STATUS)) { console.error('Shader program error: ' + gl.getProgramInfoLog(program)); return; }
             
             positionAttributeLocation = gl.getAttribLocation(program, "a_position");
             resolutionUniformLocation = gl.getUniformLocation(program, "u_resolution");
             timeUniformLocation = gl.getUniformLocation(program, "u_time");
             
             const positionBuffer = gl.createBuffer(); gl.bindBuffer(gl.ARRAY_BUFFER, positionBuffer); gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([-1, 1, 1, 1, -1, -1, 1, -1]), gl.STATIC_DRAW);
             gl.useProgram(program);
             gl.enableVertexAttribArray(positionAttributeLocation);
             gl.vertexAttribPointer(positionAttributeLocation, 2, gl.FLOAT, false, 0, 0);

            requestAnimationFrame(render);
        } catch (e) { console.error("WebGL init error:", e); }
    }
    
    function render(time) {
        if (!isTabVisible || !gl) {
            animationFrameId = requestAnimationFrame(render);
            return;
        };
        time *= 0.0005;
        if (gl.canvas.width !== gl.canvas.clientWidth || gl.canvas.height !== gl.canvas.clientHeight) {
            gl.canvas.width = gl.canvas.clientWidth;
            gl.canvas.height = gl.canvas.clientHeight;
            gl.viewport(0, 0, gl.canvas.width, gl.canvas.height);
        }
        gl.uniform2f(resolutionUniformLocation, gl.canvas.width, gl.canvas.height);
        gl.uniform1f(timeUniformLocation, time);
        gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);
        animationFrameId = requestAnimationFrame(render);
    }

    document.addEventListener('visibilitychange', () => {
        isTabVisible = document.visibilityState === 'visible';
    });

    // --- I18N and Data Store ---
    const i18nData = {
        pl: {
            pageTitle: "Interaktywny przewodnik: Zaawansowane łączenie modeli",
            guideTitle: "Przewodnik po Łączeniu Modeli",
            "nav.blueprints": "Schematy", "nav.recipes": "Przepisy", "nav.analysis": "Analiza", "nav.glossary": "Glosariusz",
            "header.title": "Zaawansowane Łączenie Modeli",
            "header.subtitle": "Interaktywny przewodnik po trzech filozofiach łączenia w celu stworzenia modelu do zasobów gry w stylu retro anime, dark fantasy i sci-fi. Wybierz strategię, aby poznać jej komponenty i przepisy.",
            "strategy.sdxl": "Strategia \"Przeszczepu SDXL\"", "strategy.pony": "Strategia \"Czystej Krwi PONY\"", "strategy.hybrid": "Strategia \"Hybrydowego Łatania\"",
            "sdxl.blueprint.title": "Schemat: Strategia \"Przeszczepu SDXL\"",
            "sdxl.blueprint.description": "Ta strategia wykorzystuje stabilny model-host w stylu anime i chirurgicznie wstrzykuje określone \"umiejętności\" od architektonicznie różnych dawców `SDXL 1.0` za pomocą algorytmu DARE-TIES. Celem jest połączenie czystego stylu retro anime (Priorytet 1) z estetyką dark fantasy/sci-fi (Priorytet 2) i malarskim stylem (Priorytet 3).",
            "sdxl.blueprint.card1.role": "Model A (Host, Priorytet 1)", "sdxl.blueprint.card1.desc": "Zapewnia fundamentalne rusztowanie: doskonałą anatomię, kompozycję i żywy styl retro anime z czystymi liniami.",
            "sdxl.blueprint.card2.role": "Model B (Pomostowy)", "sdxl.blueprint.card2.desc": "Działa jako pomost, łącząc czysty wygląd anime z półrealistycznym odczuciem, aby uczynić hosta bardziej podatnym na dawców.",
            "sdxl.blueprint.card3.role": "Dawca Stylu Malarskiego (Priorytet 3)", "sdxl.blueprint.card3.desc": "Wstrzykuje malarską, heroiczną esencję fantasy w stylu Frazetty i Vallejo, zapewniając pożądane wykończenie tekstur.",
            "sdxl.blueprint.card4.role": "Dawca Tematyczny (Priorytet 2)", "sdxl.blueprint.card4.desc": "Potężny dawca do wstrzykiwania mrocznych, surowych, horrorowych i fantastycznonaukowych treści tematycznych.",
            "sdxl.recipes.title": "Przepis i Implementacja: Przeszczep SDXL",
            "sdxl.recipes.step1.title": "Etap 1: Tworzenie Hosta (Łączenie z wagami bloków)",
            "sdxl.recipes.step1.desc": "Najpierw tworzymy solidny model-hosta, łącząc Animij (Model A) i Graycolor (Model B). Wartość wagi (`weight`) odnosi się do wkładu Modelu B. Waga `1.0` to 100% Modelu B, a `0.0` to 100% Modelu A.",
            "sdxl.recipes.step1.btnBalanced": "Przepis A: Zrównoważony", "sdxl.recipes.step1.btnHost": "Przepis B: Z dominacją Hosta", "sdxl.recipes.step1.btnDonor": "Przepis C: Podatny na Dawcę",
            "sdxl.recipes.explanation.balanced": "<strong>Cel:</strong> Stworzenie zrównoważonej bazy, w której styl anime jest wyraźny, ale na tyle stonowany, aby przyjąć dawców. <br><strong>Logika:</strong> Wagi są niskie w blokach wejściowych (IN), aby zachować mocną anatomię Hosta, stopniowo rosną w kierunku bloku środkowego (M), aby połączyć style, i maleją w blokach wyjściowych (OUT), aby zachować szczegóły Hosta.",
            "sdxl.recipes.justification.balanced.0": "Dominacja Hosta (Animij @ 90%) dla bazowej kompozycji i stylu lineartu.",
            "sdxl.recipes.justification.balanced.1": "Utrzymanie silnej dominacji Hosta (88%) w celu zablokowania struktury anatomicznej.",
            "sdxl.recipes.justification.balanced.2": "Host (85%) nadal prowadzi, definiując formę obiektu.",
            "sdxl.recipes.justification.balanced.3": "Subtelne złagodzenie czystej estetyki anime (Host @ 82%).",
            "sdxl.recipes.justification.balanced.4": "Wprowadzenie 25% półrealistycznych właściwości Graycolor do struktury anime.",
            "sdxl.recipes.justification.balanced.5": "Wpływ Graycolor (30%) rośnie, wpływając na cechy średniego poziomu.",
            "sdxl.recipes.justification.balanced.6": "Mieszanka przesuwa się w kierunku równowagi stylów (Host @ 65%).",
            "sdxl.recipes.justification.balanced.7": "Zbliżając się do bloku środkowego, modele osiągają równowagę.",
            "sdxl.recipes.justification.balanced.8": "Host utrzymuje niewielką przewagę (55%) tuż przed wąskim gardłem.",
            "sdxl.recipes.justification.balanced.9": "Dokładny podział 50/50, aby stworzyć zrównoważone przejście.",
            "sdxl.recipes.justification.balanced.10": "Graycolor po raz pierwszy obejmuje niewielkie prowadzenie (52%), definiując koncepcję.",
            "sdxl.recipes.justification.balanced.11": "Wzmocnienie dominacji koncepcyjnej Graycolor (55%).",
            "sdxl.recipes.justification.balanced.12": "Graycolor otrzymuje najsilniejszą wagę (60%) w rdzeniu, osadzając styl malarski.",
            "sdxl.recipes.justification.balanced.13": "Graycolor pozostaje dominujący (58%), propagując swój styl na zewnątrz.",
            "sdxl.recipes.justification.balanced.14": "Równowaga zaczyna przesuwać się z powrotem w stronę hosta (45%).",
            "sdxl.recipes.justification.balanced.15": "Graycolor wciąż ma niewielką większość (52%), wpływając na wczesne detale.",
            "sdxl.recipes.justification.balanced.16": "Drugi idealny podział 50/50 dla detali i tekstury.",
            "sdxl.recipes.justification.balanced.17": "Host odzyskuje prowadzenie (53%), stosując swoją czystą interpretację.",
            "sdxl.recipes.justification.balanced.18": "Nacisk na hosta wzrasta (58%), koncentrując się na czystych liniach.",
            "sdxl.recipes.justification.balanced.19": "Silniejsza waga dla hosta (65%) dla drobnych detali.",
            "sdxl.recipes.justification.balanced.20": "Host dominuje (70%), udoskonalając tekstury.",
            "sdxl.recipes.justification.balanced.21": "Znaczna waga dla hosta (75%) na ostatnim etapie.",
            "sdxl.recipes.justification.balanced.22": "Mocno faworyzuje hosta (80%) dla detali o wysokiej częstotliwości.",
            "sdxl.recipes.justification.balanced.23": "Mocno faworyzuje hosta (85%), aby zapewnić ostre i czyste linie.",
            "sdxl.recipes.justification.balanced.24": "Ostateczna, decydująca waga dla hosta (90%), aby zapewnić czysty i żywy wynik.",

            "sdxl.recipes.explanation.host_dominant": "<strong>Cel:</strong> Wzmocnienie czystego stylu anime Hosta kosztem podatności na dawców. <br><strong>Logika:</strong> Wagi dla Modelu B są utrzymywane na bardzo niskim poziomie przez większość bloków, co zapewnia, że podstawowa struktura, styl i szczegóły są zdominowane przez Model A (Animij).",
            "sdxl.recipes.justification.host_dominant.0": "Maksymalna integralność strukturalna od Hosta (95%).",
            "sdxl.recipes.justification.host_dominant.1": "Przytłaczająca kontrola Hosta (92%) nad anatomią.",
            "sdxl.recipes.justification.host_dominant.2": "Czysta forma z Animij (90%).",
            "sdxl.recipes.justification.host_dominant.3": "Minimalny wpływ stylistyczny (Host @ 88%).",
            "sdxl.recipes.justification.host_dominant.4": "Priorytet dla struktury Hosta (85%).",
            "sdxl.recipes.justification.host_dominant.5": "Styl zbliżony do Animij (80%).",
            "sdxl.recipes.justification.host_dominant.6": "Stosunek 3:1 na korzyść struktury Hosta.",
            "sdxl.recipes.justification.host_dominant.7": "Silna kontrola hosta (70%).",
            "sdxl.recipes.justification.host_dominant.8": "Ostatnie słowo dla Animij (65%) przed rdzeniem.",
            "sdxl.recipes.justification.host_dominant.9": "Mieszanka faworyzująca hosta (60%).",
            "sdxl.recipes.justification.host_dominant.10": "Niewielka przewaga hosta (55%) w koncepcji.",
            "sdxl.recipes.justification.host_dominant.11": "Równy podział tuż przed rdzeniem.",
            "sdxl.recipes.justification.host_dominant.12": "Nawet w rdzeniu, silna obecność hosta (45%).",
            "sdxl.recipes.justification.host_dominant.13": "Rozpoczęcie rekonstrukcji z równym podziałem.",
            "sdxl.recipes.justification.host_dominant.14": "Natychmiastowe ponowne przejęcie kontroli przez hosta (55%).",
            "sdxl.recipes.justification.host_dominant.15": "Wzmacnianie kontroli hosta (60%) nad wczesnymi detalami.",
            "sdxl.recipes.justification.host_dominant.16": "Priorytet dla logiki hosta (65%).",
            "sdxl.recipes.justification.host_dominant.17": "Silna kontrola hosta (70%) nad rekonstrukcją.",
            "sdxl.recipes.justification.host_dominant.18": "Stosunek 3:1 dla linii hosta (75%).",
            "sdxl.recipes.justification.host_dominant.19": "Faworyzowanie hosta (80%) dla drobnych detali.",
            "sdxl.recipes.justification.host_dominant.20": "Tekstury głównie z hosta (85%).",
            "sdxl.recipes.justification.host_dominant.21": "Polerowanie strukturalne przez hosta (88%).",
            "sdxl.recipes.justification.host_dominant.22": "Maksymalna czystość od hosta (90%).",
            "sdxl.recipes.justification.host_dominant.23": "Wyjątkowo czyste linie (Host @ 92%).",
            "sdxl.recipes.justification.host_dominant.24": "Czysty styl Animij na wyjściu (95%).",
            
            "sdxl.recipes.explanation.donor_receptive": "<strong>Cel:</strong> Uczynienie Hosta maksymalnie podatnym na wpływy stylistyczne, nawet ryzykując osłabienie jego podstawowej tożsamości. <br><strong>Logika:</strong> Wagi dla Modelu B są znacznie wyższe, szczególnie w bloku środkowym (M) i późnych blokach wejściowych (IN), co pozwala Modelowi B na silne wpłynięcie na podstawowy styl i koncepcję.",
            "sdxl.recipes.justification.donor_receptive.0": "Łagodniejszy start (Host @ 85%).",
            "sdxl.recipes.justification.donor_receptive.1": "Wczesne osłabienie kontroli hosta (82%).",
            "sdxl.recipes.justification.donor_receptive.2": "Silny wczesny głos dla Graycolor (20%).",
            "sdxl.recipes.justification.donor_receptive.3": "Priorytet dla mieszania stylów (Host @ 78%).",
            "sdxl.recipes.justification.donor_receptive.4": "Silne pchnięcie w kierunku stylu Graycolor (30%).",
            "sdxl.recipes.justification.donor_receptive.5": "Znaczący wpływ Graycolor (35%).",
            "sdxl.recipes.justification.donor_receptive.6": "Podział 60/40 na korzyść Hosta.",
            "sdxl.recipes.justification.donor_receptive.7": "Prawie równy podział (Host @ 55%).",
            "sdxl.recipes.justification.donor_receptive.8": "Równy podział dla fuzji.",
            "sdxl.recipes.justification.donor_receptive.9": "Graycolor prowadzi (55%) do rdzenia.",
            "sdxl.recipes.justification.donor_receptive.10": "Wzmocnienie wpływu Graycolor (58%).",
            "sdxl.recipes.justification.donor_receptive.11": "Silna waga dla Graycolor (60%).",
            "sdxl.recipes.justification.donor_receptive.12": "Decydująca waga dla Graycolor (65%) w rdzeniu.",
            "sdxl.recipes.justification.donor_receptive.13": "Silny wpływ Graycolor (62%) w rekonstrukcji.",
            "sdxl.recipes.justification.donor_receptive.14": "Utrzymanie wagi dla Graycolor (60%).",
            "sdxl.recipes.justification.donor_receptive.15": "Priorytet dla stylu malarskiego (58%).",
            "sdxl.recipes.justification.donor_receptive.16": "Podział faworyzujący dawcę (55%).",
            "sdxl.recipes.justification.donor_receptive.17": "Równy podział dla cech.",
            "sdxl.recipes.justification.donor_receptive.18": "Powrót do Animij (55%) dla linii.",
            "sdxl.recipes.justification.donor_receptive.19": "Podział 60/40 dla hosta.",
            "sdxl.recipes.justification.donor_receptive.20": "Wzmacnianie kontroli hosta (65%).",
            "sdxl.recipes.justification.donor_receptive.21": "Podział 70/30 dla polerowania.",
            "sdxl.recipes.justification.donor_receptive.22": "Silna obecność hosta (75%) dla czystości.",
            "sdxl.recipes.justification.donor_receptive.23": "Linie głównie z hosta (80%).",
            "sdxl.recipes.justification.donor_receptive.24": "Silna waga hosta (85%) dla czystego wykończenia.",

            "sdxl.recipes.step2.title": "Etap 2: Wstrzykiwanie umiejętności (DARE-TIES)",
            "sdxl.recipes.step2.desc": "W tym etapie używamy zaawansowanego węzła `Model Merger (Advanced/DARE)`. Ta metoda jest alternatywą dla łączenia blokowego i ignoruje wagi ustawione dla poszczególnych bloków. Kontrola nad procesem odbywa się poprzez parametry DARE i TIES. Ogólna waga modelu powinna być ustawiona na `1.0`, aby zmiany zostały w pełni zastosowane.",
            "sdxl.recipes.step2a.title": "Krok 2a: Wstrzyknij styl malarski (Priorytet 3)",
            "sdxl.recipes.step2a.trimDesc": "Użyj węzła `Magnitude Masker`, aby zachować 40% najważniejszych zmian.",
            "sdxl.recipes.step2a.justification": "`threshold: 0.60` w trybie `quantile` zachowuje 40% najważniejszych wektorów zmian, precyzyjnie izolując esencję stylu malarskiego. `density: 0.45` dodatkowo przerzedza te wektory, zapobiegając nadpisaniu bazy anime. Tryb `sum` jest standardowym, zalecanym wyborem dla TIES.",
            "pony.blueprint.title": "Schemat: Strategia \"Czystej Krwi PONY\"",
            "pony.blueprint.description": "Ta strategia pozostaje w obrębie architektonicznie spójnej rodziny \"Pony\", zapewniając wysoką kompatybilność i stabilność. Używa `JANKU` dla solidnej anatomii i `NEW ERA V5` dla tematyki, łącząc je z malarskimi modelami `Graycolor` i `SinGlo`, aby stworzyć dopracowany, spójny i gotowy do wektoryzacji wynik.",
            "pony.blueprint.card1.role": "Host / Baza Strukturalna", "pony.blueprint.card1.desc": "Wszechstronny model z rodziny `NoobAI`, który zapewni podstawową, solidną anatomię i podatne podłoże dla mrocznych motywów.",
            "pony.blueprint.card2.role": "Baza Tematyczna", "pony.blueprint.card2.desc": "Model o silnym stylu, który zostanie połączony z lepszą anatomią JANKU, aby stworzyć bazę \"Dark Anime\".",
            "pony.blueprint.card3.role": "Fundament Stylu Malarskiego", "pony.blueprint.card3.desc": "Model z rodziny `Illustrious`, który zapewnia półrealistyczną, malarską bazę dla ostatecznego wykończenia.",
            "pony.blueprint.card4.role": "Dawca Detali Tekstur", "pony.blueprint.card4.desc": "Model z rodziny `Illustrious` o unikalnym, ostrym stylu, który doda złożoności tekstur.",
            "pony.recipes.title": "Przepis i Implementacja: Czysta Krew PONY",
            "pony.recipes.step1.title": "Wieloetapowe Łączenie Bloków",
            "pony.recipes.step1.desc": "To podejście wykorzystuje sekwencję łączeń do budowania ostatecznego modelu warstwa po warstwie. Wybierz etap, aby zobaczyć jego przepis. Wykres zaktualizuje się, aby pokazać wagi bloków. Najedź kursorem na dowolny blok, aby uzyskać szczegółowe uzasadnienie.",
            "pony.recipes.step1.btnStage1": "Etap 1: Baza \"Dark Anime\"", "pony.recipes.step1.btnStage2": "Etap 2: \"Most Malarski\"", "pony.recipes.step1.btnStage3": "Etap 3: Finałowa Fuzja",
            "pony.recipes.explanation.stage1": "<strong>Cel:</strong> Połączenie lepszej anatomii z JANKU (Model A) z mrocznym, stylizowanym tematem NEW ERA (Model B). <br><strong>Logika:</strong> Niskie wagi dla Modelu B we wczesnych blokach (IN00-04) zachowują anatomię z JANKU. Wagi rosną w środku (IN05-M00), aby w pełni zintegrować styl tematyczny NEW ERA, a następnie stopniowo maleją w blokach wyjściowych (OUT), aby zachować subtelne detale strukturalne z JANKU.",
            "pony.recipes.justification.stage1.0": "Faworyzuje anatomię JANKU (90%) dla mocnych fundamentów.",
            "pony.recipes.justification.stage1.1": "Utrwalenie kompozycji i póz (JANKU @ 88%).",
            "pony.recipes.justification.stage1.2": "Wprowadzenie stylu tematycznego NEW ERA (15%).",
            "pony.recipes.justification.stage1.3": "Stopniowe zwiększanie wpływu NEW ERA (18%).",
            "pony.recipes.justification.stage1.4": "Stosunek 4:1 zapewnia dominację anatomii JANKU (80%).",
            "pony.recipes.justification.stage1.5": "Nadanie NEW ERA 25% wpływu na cechy.",
            "pony.recipes.justification.stage1.6": "Równoważenie stylu NEW ERA (30%) ze spójnością JANKU.",
            "pony.recipes.justification.stage1.7": "Zbliżanie się do równej mieszanki.",
            "pony.recipes.justification.stage1.8": "Nadanie NEW ERA 40% wpływu przed rdzeniem.",
            "pony.recipes.justification.stage1.9": "Niewielka przewaga JANKU (55%) dla stabilności.",
            "pony.recipes.justification.stage1.10": "Zrównoważony podział dla stabilnego przejścia.",
            "pony.recipes.justification.stage1.11": "Niewielka przewaga NEW ERA (52%) dla koncepcji.",
            "pony.recipes.justification.stage1.12": "Większość 55% dla NEW ERA w rdzeniu, aby osadzić motywy.",
            "pony.recipes.justification.stage1.13": "Zrównoważony podział dla nowatorskiej fuzji.",
            "pony.recipes.justification.stage1.14": "Ponowne przejęcie kontroli strukturalnej przez JANKU (55%).",
            "pony.recipes.justification.stage1.15": "Zwiększenie wpływu JANKU (60%) dla spójnych detali.",
            "pony.recipes.justification.stage1.16": "Priorytet dla logiki JANKU (65%).",
            "pony.recipes.justification.stage1.17": "Podział 70/30 dla spójności detali (JANKU @ 70%).",
            "pony.recipes.justification.stage1.18": "Stosunek 3:1 na korzyść JANKU (75%) dla czystych linii.",
            "pony.recipes.justification.stage1.19": "Faworyzowanie JANKU (80%) dla drobnych detali.",
            "pony.recipes.justification.stage1.20": "Silna przewaga JANKU (82%) dla udoskonalenia tekstur.",
            "pony.recipes.justification.stage1.21": "Zapewnienie spójnej kompozycji (JANKU @ 85%).",
            "pony.recipes.justification.stage1.22": "Faworyzowanie JANKU (88%) dla ostrości.",
            "pony.recipes.justification.stage1.23": "Waga 90% dla JANKU dla ostrych, czystych linii.",
            "pony.recipes.justification.stage1.24": "Ostateczna waga dla JANKU (92%) dla czystego wyniku.",

            "pony.recipes.explanation.stage2": "<strong>Cel:</strong> Stworzenie warstwy malarskiej poprzez połączenie półrealistycznej bazy Graycolor (Model A) z unikalnymi detalami tekstur SinGlo (Model B). <br><strong>Logika:</strong> Umiarkowane wagi dla Modelu B w środkowych i późnych blokach (IN08-OUT08) pozwalają na wprowadzenie charakterystycznych tekstur SinGlo bez przytłaczania bardziej stonowanej, malarskiej bazy Graycolor.",
            "pony.recipes.justification.stage2.0": "Ustanowienie półrealizmu Graycolor (85%) jako bazy.",
            "pony.recipes.justification.stage2.1": "Utrzymanie dominacji Graycolor (85%) dla spójności.",
            "pony.recipes.justification.stage2.2": "Wprowadzenie tekstur SinGlo (20%).",
            "pony.recipes.justification.stage2.3": "Kontynuacja mieszania stylów (SinGlo @ 20%).",
            "pony.recipes.justification.stage2.4": "Zwiększenie wpływu SinGlo (25%).",
            "pony.recipes.justification.stage2.5": "Nadanie SinGlo (30%) głosu w detalach.",
            "pony.recipes.justification.stage2.6": "Nadanie SinGlo (30%) głosu w detalach.",
            "pony.recipes.justification.stage2.7": "Zbliżanie się do równej mieszanki tekstur.",
            "pony.recipes.justification.stage2.8": "Zbliżanie się do równej mieszanki tekstur.",
            "pony.recipes.justification.stage2.9": "Znaczący wpływ SinGlo (40%).",
            "pony.recipes.justification.stage2.10": "Znaczący wpływ SinGlo (40%).",
            "pony.recipes.justification.stage2.11": "Znaczący wpływ SinGlo (40%).",
            "pony.recipes.justification.stage2.12": "Prawie równy podział w rdzeniu.",
            "pony.recipes.justification.stage2.13": "Niewielka przewaga Graycolor (60%).",
            "pony.recipes.justification.stage2.14": "Niewielka przewaga Graycolor (60%).",
            "pony.recipes.justification.stage2.15": "Faworyzowanie Graycolor (65%) dla stabilności.",
            "pony.recipes.justification.stage2.16": "Faworyzowanie Graycolor (65%) dla stabilności.",
            "pony.recipes.justification.stage2.17": "Podkreślenie malarskiego charakteru (Graycolor @ 70%).",
            "pony.recipes.justification.stage2.18": "Podkreślenie malarskiego charakteru (Graycolor @ 70%).",
            "pony.recipes.justification.stage2.19": "Mocne faworyzowanie Graycolor (75%).",
            "pony.recipes.justification.stage2.20": "Mocne faworyzowanie Graycolor (75%).",
            "pony.recipes.justification.stage2.21": "Dominacja Graycolor (80%) w detalach.",
            "pony.recipes.justification.stage2.22": "Dominacja Graycolor (80%) w detalach.",
            "pony.recipes.justification.stage2.23": "Czyste, malarskie wykończenie (Graycolor @ 85%).",
            "pony.recipes.justification.stage2.24": "Czyste, malarskie wykończenie (Graycolor @ 85%).",

            "pony.recipes.explanation.stage3": "<strong>Cel:</strong> Ostateczna fuzja, która nakłada \"Most Malarski\" (Model B) na bazę \"Dark Anime\" (Model A). <br><strong>Logika:</strong> Wagi są bardzo niskie na początku (IN00-IN06), aby chronić kompozycję i anatomię bazy anime. Stopniowo rosną, aby wprowadzić styl malarski w koncepcji (M00) i detalach (OUT), ale pozostają poniżej 0.5, aby zapewnić, że malarska estetyka działa jako warstwa wykończeniowa, a nie przytłaczająca transformacja.",
            "pony.recipes.justification.stage3.0": "Faworyzowanie bazy Dark Anime (90%) dla struktury.",
            "pony.recipes.justification.stage3.1": "Utrzymanie dominacji strukturalnej (Baza @ 90%).",
            "pony.recipes.justification.stage3.2": "Wprowadzenie malarskiej tekstury (12%).",
            "pony.recipes.justification.stage3.3": "Zwiększenie wpływu malarskiego (15%).",
            "pony.recipes.justification.stage3.4": "Więcej stylu malarskiego (18%).",
            "pony.recipes.justification.stage3.5": "20% wpływu malarskiego.",
            "pony.recipes.justification.stage3.6": "Kontynuacja mieszanki.",
            "pony.recipes.justification.stage3.7": "Podział 75/25 na korzyść Bazy.",
            "pony.recipes.justification.stage3.8": "Dalsze zwiększanie wpływu.",
            "pony.recipes.justification.stage3.9": "Podział 70/30.",
            "pony.recipes.justification.stage3.10": "Większa waga dla stylu.",
            "pony.recipes.justification.stage3.11": "Silny wpływ malarski (35%).",
            "pony.recipes.justification.stage3.12": "Podział 60/40 w rdzeniu na korzyść Bazy.",
            "pony.recipes.justification.stage3.13": "Podobny podział w rekonstrukcji.",
            "pony.recipes.justification.stage3.14": "Powrót do bazy Dark Anime (65%).",
            "pony.recipes.justification.stage3.15": "Wzmacnianie bazowego stylu anime (Baza @ 68%).",
            "pony.recipes.justification.stage3.16": "Podział 70/30 dla detali.",
            "pony.recipes.justification.stage3.17": "Priorytet dla interpretacji bazy (72%).",
            "pony.recipes.justification.stage3.18": "Silny podział 75/25 dla linii.",
            "pony.recipes.justification.stage3.19": "Zwiększenie dominacji bazy (78%).",
            "pony.recipes.justification.stage3.20": "Podział 80/20 dla detali.",
            "pony.recipes.justification.stage3.21": "Priorytet dla spójności (Baza @ 82%).",
            "pony.recipes.justification.stage3.22": "Faworyzowanie bazy (85%) dla ostrych linii.",
            "pony.recipes.justification.stage3.23": "Wynik zdefiniowany przez bazę (88%).",
            "pony.recipes.justification.stage3.24": "Czyste wykończenie (Baza @ 90%).",

            "pony.assembly.title": "Montaż: Wersja \"Czystej Krwi PONY\"",
            "pony.assembly.desc": "Nawet w obrębie rodziny Pony, gałęzie `NoobAI` i `Illustrious` mają różne \"słowniki\". Sekwencyjne łączenie CLIP jest nadal zalecane dla maksymalnej kontroli i zrozumienia promptów.",
            "pony.assembly.clip.title": "Tworzenie Spójnego CLIP",
            "pony.assembly.clip.desc": "To sekwencyjne łączenie zapewnia, że ostateczny CLIP rozumie prompty związane zarówno z bazą `NoobAI`, jak i warstwą stylu `Illustrious`.",
            "pony.assembly.vae.desc": "Chociaż wszystkie modele pochodzą z rodziny Pony, użycie VAE z ostatecznego Głównego Hosta (`JANKU`) jest najbezpieczniejszym wyborem dla dokładności kolorów.",
            "pony.assembly.vae.justification": "Zapewnia to, że ostateczny obraz jest dekodowany przez VAE dopasowany do bazy strukturalnej.",
            "hybrid.blueprint.title": "Schemat: Strategia \"Hybrydowego Łatania\"",
            "hybrid.blueprint.description": "Ta zaawansowana strategia tworzy bazę z rodziny Pony, a następnie używa DARE-TIES do \"łatania\" jej słabości (np. anatomii) modelem SDXL. To złożone, ale potężne podejście łączy stabilność Pony z siłą SDXL.",
            "hybrid.blueprint.card1.role": "Baza Strukturalna Pony", "hybrid.blueprint.card1.desc": "Tworzy fundamenty anatomiczne bazy Pony.",
            "hybrid.blueprint.card2.role": "Baza Tematyczna Pony", "hybrid.blueprint.card2.desc": "Wnosi do bazy Pony estetykę retro anime.",
            "hybrid.blueprint.card3.role": "Baza Malarska Pony", "hybrid.blueprint.card3.desc": "Wprowadza jakość malarską.",
            "hybrid.blueprint.card4.role": "Dawca Tekstur Pony", "hybrid.blueprint.card4.desc": "Dodaje ostre detale tekstur.",
            "hybrid.blueprint.card5.role": "Łatka Anatomiczna", "hybrid.blueprint.card5.desc": "Model SDXL używany do chirurgicznego korygowania wad w bazie Pony.",
            "hybrid.recipes.title": "Przepis i Implementacja: Hybrydowe Łatanie",
            "hybrid.recipes.step1.title": "Czteroetapowy Przepis Hybrydowy",
            "hybrid.recipes.step1.desc": "Ten przepis obejmuje łączenie bloków, chirurgiczną iniekcję DARE-TIES i ostateczną fuzję. Wybierz etap, aby zobaczyć jego przepis. Etap 3 to proces DARE-TIES i zamiast wykresu pokaże parametry iniekcji.",
            "hybrid.recipes.step1.btnStage1": "Etap 1: Baza Dark Anime", "hybrid.recipes.step1.btnStage2": "Etap 2: Most Malarski", "hybrid.recipes.step1.btnStage3": "Etap 3: Łatka Anatomiczna", "hybrid.recipes.step1.btnStage4": "Etap 4: Finałowa Fuzja",
            "hybrid.recipes.explanation.stage1": "<strong>Cel:</strong> Połączenie lepszej anatomii z JANKU (Model A) z mrocznym, stylizowanym tematem NEW ERA (Model B), tworząc solidną bazę Pony. <br><strong>Logika:</strong> Identyczna jak w Etapie 1 strategii 'Czystej Krwi Pony', aby stworzyć tę samą solidną bazę anime.",
            "hybrid.recipes.justification.stage1.0": "Faworyzuje anatomię JANKU (90%) dla mocnych fundamentów.",
            "hybrid.recipes.justification.stage1.1": "Utrwalenie kompozycji i póz (JANKU @ 88%).",
            "hybrid.recipes.justification.stage1.2": "Wprowadzenie stylu tematycznego NEW ERA (15%).",
            "hybrid.recipes.justification.stage1.3": "Stopniowe zwiększanie wpływu NEW ERA (18%).",
            "hybrid.recipes.justification.stage1.4": "Stosunek 4:1 zapewnia dominację anatomii JANKU (80%).",
            "hybrid.recipes.justification.stage1.5": "Nadanie NEW ERA 25% wpływu na cechy.",
            "hybrid.recipes.justification.stage1.6": "Równoważenie stylu NEW ERA (30%) ze spójnością JANKU.",
            "hybrid.recipes.justification.stage1.7": "Zbliżanie się do równej mieszanki.",
            "hybrid.recipes.justification.stage1.8": "Nadanie NEW ERA 40% wpływu przed rdzeniem.",
            "hybrid.recipes.justification.stage1.9": "Niewielka przewaga JANKU (55%) dla stabilności.",
            "hybrid.recipes.justification.stage1.10": "Zrównoważony podział dla stabilnego przejścia.",
            "hybrid.recipes.justification.stage1.11": "Niewielka przewaga NEW ERA (52%) dla koncepcji.",
            "hybrid.recipes.justification.stage1.12": "Większość 55% dla NEW ERA w rdzeniu, aby osadzić motywy.",
            "hybrid.recipes.justification.stage1.13": "Zrównoważony podział dla nowatorskiej fuzji.",
            "hybrid.recipes.justification.stage1.14": "Ponowne przejęcie kontroli strukturalnej przez JANKU (55%).",
            "hybrid.recipes.justification.stage1.15": "Zwiększenie wpływu JANKU (60%) dla spójnych detali.",
            "hybrid.recipes.justification.stage1.16": "Priorytet dla logiki JANKU (65%).",
            "hybrid.recipes.justification.stage1.17": "Podział 70/30 dla spójności detali (JANKU @ 70%).",
            "hybrid.recipes.justification.stage1.18": "Stosunek 3:1 na korzyść JANKU (75%) dla czystych linii.",
            "hybrid.recipes.justification.stage1.19": "Faworyzowanie JANKU (80%) dla drobnych detali.",
            "hybrid.recipes.justification.stage1.20": "Silna przewaga JANKU (82%) dla udoskonalenia tekstur.",
            "hybrid.recipes.justification.stage1.21": "Zapewnienie spójnej kompozycji (JANKU @ 85%).",
            "hybrid.recipes.justification.stage1.22": "Faworyzowanie JANKU (88%) dla ostrości.",
            "hybrid.recipes.justification.stage1.23": "Waga 90% dla JANKU dla ostrych, czystych linii.",
            "hybrid.recipes.justification.stage1.24": "Ostateczna waga dla JANKU (92%) dla czystego wyniku.",
            
            "hybrid.recipes.explanation.stage2": "<strong>Cel:</strong> Stworzenie warstwy malarskiej poprzez połączenie półrealistycznej bazy Graycolor (Model A) z unikalnymi detalami tekstur SinGlo (Model B). <br><strong>Logika:</strong> Identyczna jak w Etapie 2 strategii 'Czystej Krwi Pony', aby stworzyć tę samą warstwę stylu.",
            "hybrid.recipes.justification.stage2.0": "Ustanowienie półrealizmu Graycolor (85%) jako bazy.",
            "hybrid.recipes.justification.stage2.1": "Utrzymanie dominacji Graycolor (85%) dla spójności.",
            "hybrid.recipes.justification.stage2.2": "Wprowadzenie tekstur SinGlo (20%).",
            "hybrid.recipes.justification.stage2.3": "Kontynuacja mieszania stylów (SinGlo @ 20%).",
            "hybrid.recipes.justification.stage2.4": "Zwiększenie wpływu SinGlo (25%).",
            "hybrid.recipes.justification.stage2.5": "Nadanie SinGlo (30%) głosu w detalach.",
            "hybrid.recipes.justification.stage2.6": "Nadanie SinGlo (30%) głosu w detalach.",
            "hybrid.recipes.justification.stage2.7": "Zbliżanie się do równej mieszanki tekstur.",
            "hybrid.recipes.justification.stage2.8": "Zbliżanie się do równej mieszanki tekstur.",
            "hybrid.recipes.justification.stage2.9": "Znaczący wpływ SinGlo (40%).",
            "hybrid.recipes.justification.stage2.10": "Znaczący wpływ SinGlo (40%).",
            "hybrid.recipes.justification.stage2.11": "Znaczący wpływ SinGlo (40%).",
            "hybrid.recipes.justification.stage2.12": "Prawie równy podział w rdzeniu.",
            "hybrid.recipes.justification.stage2.13": "Niewielka przewaga Graycolor (60%).",
            "hybrid.recipes.justification.stage2.14": "Niewielka przewaga Graycolor (60%).",
            "hybrid.recipes.justification.stage2.15": "Faworyzowanie Graycolor (65%) dla stabilności.",
            "hybrid.recipes.justification.stage2.16": "Faworyzowanie Graycolor (65%) dla stabilności.",
            "hybrid.recipes.justification.stage2.17": "Podkreślenie malarskiego charakteru (Graycolor @ 70%).",
            "hybrid.recipes.justification.stage2.18": "Podkreślenie malarskiego charakteru (Graycolor @ 70%).",
            "hybrid.recipes.justification.stage2.19": "Mocne faworyzowanie Graycolor (75%).",
            "hybrid.recipes.justification.stage2.20": "Mocne faworyzowanie Graycolor (75%).",
            "hybrid.recipes.justification.stage2.21": "Dominacja Graycolor (80%) w detalach.",
            "hybrid.recipes.justification.stage2.22": "Dominacja Graycolor (80%) w detalach.",
            "hybrid.recipes.justification.stage2.23": "Czyste, malarskie wykończenie (Graycolor @ 85%).",
            "hybrid.recipes.justification.stage2.24": "Czyste, malarskie wykończenie (Graycolor @ 85%).",
            
            "hybrid.recipes.explanation.stage3": "<strong>Cel:</strong> Chirurgiczne wstrzyknięcie lepszej wiedzy anatomicznej z modelu 'Boomer Art' (SDXL) do 'Bazy Dark Anime' (Pony), aby naprawić anatomię bez naruszania stylu hosta. <br><strong>Logika:</strong> Używamy DARE-TIES. Bardzo agresywne przycinanie (`threshold: 0.80`) izoluje tylko 20% najsilniejszych wektorów zmian, które najprawdopodobniej odpowiadają fundamentalnej wiedzy anatomicznej. Niska `gęstość` (0.20) zapewnia, że ta 'łatka' jest stosowana bardzo precyzyjnie i nie zakłóca stylu bazy Pony.",
            "hybrid.recipes.justification.stage3.0": "DARE-TIES nie używa wag blokowych.",
            
            "hybrid.recipes.explanation.stage4": "<strong>Cel:</strong> Zastosowanie 'Mostu Malarskiego' jako warstwy wykończeniowej na 'Bazie z łatką', aby osiągnąć ostateczny wygląd. <br><strong>Logika:</strong> Wagi są utrzymywane bardzo nisko, aby styl malarski był subtelnym wykończeniem, a nie dominującą cechą. Chroni to zarówno bazę anime, jak i precyzyjną 'łatkę' anatomiczną wstrzykniętą w poprzednim etapie.",
            "hybrid.recipes.justification.stage4.0": "Faworyzowanie bazy z łatką (92%) dla struktury.",
            "hybrid.recipes.justification.stage4.1": "Utrzymanie dominacji strukturalnej (Baza @ 90%).",
            "hybrid.recipes.justification.stage4.2": "Wprowadzenie malarskiej tekstury (12%).",
            "hybrid.recipes.justification.stage4.3": "Zwiększenie wpływu malarskiego (15%).",
            "hybrid.recipes.justification.stage4.4": "Więcej stylu malarskiego (18%).",
            "hybrid.recipes.justification.stage4.5": "20% wpływu malarskiego.",
            "hybrid.recipes.justification.stage4.6": "Kontynuacja mieszanki.",
            "hybrid.recipes.justification.stage4.7": "Podział 75/25 na korzyść Bazy.",
            "hybrid.recipes.justification.stage4.8": "Dalsze zwiększanie wpływu.",
            "hybrid.recipes.justification.stage4.9": "Podział 70/30.",
            "hybrid.recipes.justification.stage4.10": "Większa waga dla stylu.",
            "hybrid.recipes.justification.stage4.11": "Silny wpływ malarski (35%).",
            "hybrid.recipes.justification.stage4.12": "Podział 60/40 w rdzeniu na korzyść Bazy.",
            "hybrid.recipes.justification.stage4.13": "Podobny podział w rekonstrukcji.",
            "hybrid.recipes.justification.stage4.14": "Powrót do bazy z łatką (65%).",
            "hybrid.recipes.justification.stage4.15": "Wzmacnianie stylu anime (Baza @ 68%).",
            "hybrid.recipes.justification.stage4.16": "Podział 70/30 dla detali.",
            "hybrid.recipes.justification.stage4.17": "Priorytet dla interpretacji bazy (72%).",
            "hybrid.recipes.justification.stage4.18": "Silny podział 75/25 dla linii.",
            "hybrid.recipes.justification.stage4.19": "Zwiększenie dominacji bazy (78%).",
            "hybrid.recipes.justification.stage4.20": "Podział 80/20 dla detali.",
            "hybrid.recipes.justification.stage4.21": "Priorytet dla spójności (Baza @ 82%).",
            "hybrid.recipes.justification.stage4.22": "Faworyzowanie bazy (85%) dla ostrych linii.",
            "hybrid.recipes.justification.stage4.23": "Wynik zdefiniowany przez bazę (88%).",
            "hybrid.recipes.justification.stage4.24": "Czyste wykończenie (Baza @ 92%).",

            "hybrid.assembly.title": "Montaż: Wersja Hybrydowa",
            "hybrid.assembly.desc": "Łączenie CLIP jest tu najbardziej złożone, wymagając sekwencyjnego, dwuetapowego połączenia w celu włączenia słownictwa wszystkich modeli.",
            "hybrid.assembly.clip.title": "Tworzenie \"Trójjęzycznego\" CLIP",
            "hybrid.assembly.clip.desc": "Aby zapewnić kompatybilność, wykonujemy sekwencyjne, ważone łączenie. Najpierw tworzymy bazę Pony, a następnie łączymy ją z SDXL.",
            "hybrid.assembly.clip.step1Title": "Etap 1: Tworzenie bazowego CLIP Pony",
            "hybrid.assembly.clip.step2Title": "Etap 2: Łączenie z SDXL",
            "hybrid.assembly.clip.final": "Finałowy Trójjęzyczny CLIP",
            "hybrid.assembly.clip.noteTitle": "Uwaga: Łatanie niezgodności CLIP",
            "hybrid.assembly.clip.noteDesc": "CLIP modelu \"Boomer Art\" (SDXL) jest architektonicznie niezgodny z CLIP-ami Pony. Zaawansowane techniki jak DARE-TIES z maskowaniem nie mają tu zastosowania, gdyż węzły do łączenia CLIP nie posiadają wejścia na maskę. Zamiast tego, 'łatanie' niezgodności osiąga się poprzez **proste łączenie wagowe** (np. w węźle `CLIPMergeSimple`), nadając bardzo niską wagę niezgodnemu CLIP-owi z SDXL (np. 0.15-0.20). To pozwala na 'wstrzyknięcie' odrobiny jego słownictwa bez niszczenia głównej bazy Pony.",
            "hybrid.assembly.vae.desc": "VAE z głównego hosta strukturalnego, `JANKU V4.0`, pozostaje najbezpieczniejszym wyborem do utrzymania spójności kolorów pomimo złożonych łączeń.",
            "hybrid.assembly.vae.justification": "Ponieważ ostateczny model jest w przeważającej mierze oparty na Pony, użycie VAE Pony jest kluczowe, aby zapobiec artefaktom.",
            "analysis.title": "Analiza Porównawcza i Rekomendacja",
            "analysis.desc": "Wybór strategii łączenia wiąże się z kompromisem między stabilnością, zasięgiem stylistycznym a złożonością. Ta sekcja podsumowuje kluczowe różnice, aby pomóc Ci zdecydować, która wersja najlepiej odpowiada Twoim potrzebom.",
            "analysis.table.header1": "Czynnik",
            "analysis.table.row1.title": "Główna Filozofia", "analysis.table.row1.col1": "Chirurgiczne Wstrzykiwanie Umiejętności (DARE-TIES)", "analysis.table.row1.col2": "Harmonia Architektoniczna (Łączenie Bloków)", "analysis.table.row1.col3": "Łączenie Bloków + Chirurgiczne Łatanie (DARE-TIES)",
            "analysis.table.row2.title": "Stabilność", "analysis.table.row2.col1": "Dobra, ale wyższe ryzyko artefaktów z powodu łączenia międzyarchitektonicznego.", "analysis.table.row2.col2": "Doskonała. Łączenie kompatybilnych modeli jest bardziej stabilne.", "analysis.table.row2.col3": "Bardzo Dobra. Głównie stabilna, ale wstrzyknięcie SDXL wprowadza mały czynnik ryzyka.",
            "analysis.table.row3.title": "Zasięg Stylistyczny", "analysis.table.row3.col1": "Najszerszy. Może włączać style z zupełnie różnych rodzin.", "analysis.table.row3.col2": "Skoncentrowany. Doskonale łączy style w ekosystemie Pony, dając wyrafinowany wynik.", "analysis.table.row3.col3": "Unikalny. Tworzy nowatorską mieszankę przez \"łatanie\" bazy Pony cechami SDXL.",
            "analysis.table.row4.title": "Złożoność", "analysis.table.row4.col1": "Wysoka. Wymaga konfiguracji DARE-TIES.", "analysis.table.row4.col2": "Średnia. Proste wieloetapowe łączenie bloków.", "analysis.table.row4.col3": "Bardzo Wysoka. Łączy obie techniki w czteroetapowym procesie.",
            "analysis.table.row5.title": "Najlepsze dla...", "analysis.table.row5.col1": "Osiągnięcia bardzo specyficznej, unikalnej mieszanki odmiennych estetyk (np. retro anime + styl Frazetty).", "analysis.table.row5.col2": "Tworzenia bardzo dopracowanego i stabilnego modelu do konsekwentnego generowania zasobów z czystymi liniami.", "analysis.table.row5.col3": "Eksperymentalnego łączenia w celu naprawy wad (np. słabej anatomii) w modelu bazowym przy użyciu dawcy z innej rodziny.",
            "analysis.recommendation.title": "Ostateczna Rekomendacja",
            "analysis.recommendation.p1": "Dla celu tworzenia **spójnych zasobów do gier** z **czystymi liniami do wektoryzacji**, wersja **\"Czystej Krwi PONY\" jest najlepszym i najbezpieczniejszym wyborem.**",
            "analysis.recommendation.p2": "Jej harmonia architektoniczna zapewnia najwyższą stabilność i przewidywalność. **\"Hybrydowe Łatanie\"** to potężna alternatywa dla zaawansowanych użytkowników, ale jej złożoność czyni ją bardziej eksperymentalną. Wersja **\"Przeszczepu SDXL\"** jest najlepsza, gdy pożądanej estetyki nie można osiągnąć w ramach jednej rodziny.",
            "glossary.title": "Glosariusz Terminów",
            "glossary.desc": "Zrozumienie terminologii jest kluczem do udanego łączenia modeli. Oto definicje podstawowych pojęć omówionych w tym przewodniku.",
            "glossary.term1.title": "Łączenie z wagami bloków", "glossary.term1.desc": "Technika, w której różne warstwy (bloki) dwóch sieci neuronowych są łączone z różnymi wagami. Wczesne warstwy (IN) kontrolują kompozycję i anatomię, środkowe (M) kontrolują koncepcje, a późne (OUT) kontrolują detale i styl. Jest to metoda odrębna od DARE-TIES.",
            "glossary.term2.title": "DARE-TIES", "glossary.term2.desc": "Zaawansowany algorytm do chirurgicznego wstrzykiwania umiejętności, zaimplementowany w `ComfyUI-DareMerge`. Składa się z dwóch głównych mechanizmów:", "glossary.term2.li1": "<strong>DARE (`density`):</strong> Określa, jaki procent (`density`) wektorów zmian jest **zachowywany** podczas losowego przerzedzania. Jest to odwrotność `drop_rate` z publikacji (`density = 1 - drop_rate`). Wartość `0.2` oznacza zachowanie 20% i odrzucenie 80%.", "glossary.term2.li2": "<strong>TIES (`ties_mode`):</strong> Rozwiązuje konflikty między modelami. Kluczowym krokiem jest \"Przycinanie\" (Trim), które w `ComfyUI-DareMerge` realizuje się za pomocą węzła `Magnitude Masker` (np. z `threshold_type: quantile`), aby zachować tylko najważniejsze zmiany przed właściwym łączeniem.",
            "glossary.term3.title": "UNet", "glossary.term3.desc": "Podstawowa architektura sieci neuronowej w modelach dyfuzyjnych, która generuje obraz. Składa się z bloków wejściowych (IN), środkowych (M) i wyjściowych (OUT).",
            "glossary.term4.title": "CLIP", "glossary.term4.desc": "Komponent, który rozumie prompty tekstowe. Tłumaczy słowa na matematyczną reprezentację, której UNet używa do kierowania generowaniem obrazu. Łączenie CLIP-ów jest kluczowe, aby model rozumiał połączone \"słownictwo\" swoich rodziców.",
            "glossary.term5.title": "VAE (Variational Autoencoder)", "glossary.term5.desc": "Mała sieć neuronowa, która tłumaczy dane wyjściowe UNet na rzeczywiste piksele. Dobry VAE zapewnia żywe kolory. Najbezpieczniej jest używać VAE z głównego modelu bazowego.",
            "glossary.term6.title": "Rodzina Architektoniczna", "glossary.term6.desc": "Grupa modeli o zgodnych strukturach wewnętrznych (np. Pony, SDXL 1.0). Łączenie w obrębie tej samej rodziny jest generalnie bardziej stabilne niż łączenie między rodzinami, które często wymaga DARE-TIES do rozwiązania niezgodności.",
            "dare.trim.title": "Krok 1: Przycinanie (TIES Trim)", "dare.merge.title": "Krok 2: Łączenie (DARE Merge)", "dare.merge.desc": "Użyj `Model Merger (DARE)` z utworzoną maską.", "dare.hostFromStep1": "Host z Etapu 1", "dare.justification": "Uzasadnienie",
            "dare.fixed": "Ten etap to operacja DARE, która nie wykorzystuje wag bloków. Parametry są stałe: `density: 0.25`, `threshold: 0.75` (quantile), `ties_mode: sum`.",
            "clip.merge.noobai.title": "Połączenie `NoobAI` CLIPs", "clip.merge.noobai.weights": "(50% / 50%)", "clip.merge.noobai.result": "Połączenie `NoobAI`",
            "clip.merge.illustrious.title": "Połączenie `Illustrious` CLIPs", "clip.merge.illustrious.weights": "(50% / 50%)", "clip.merge.illustrious.result": "Połączenie `Illustrious`",
            "clip.merge.pony.title": "Finałowe Połączenie Pony", "clip.merge.pony.weights": "(70% NoobAI / 30% Illustrious)", "clip.merge.pony.final": "Finałowy Spójny CLIP",
            "clip.merge.pony.result": "Baza Pony CLIP",
            "clip.merge.hybrid.ponyweights": "(60% NoobAI / 40% Illustrious)", "clip.merge.hybrid.finalweights": "(85% Pony Base / 15% SDXL)",
            "vae.title": "Wybór VAE dla Wierności", "vae.recommendation": "Główna Rekomendacja",
            "footer.text": "Skonsolidowany Interaktywny Przewodnik po Zaawansowanym Łączeniu Modeli",
            "chart.hoverPrompt": "Najedź kursorem na blok na wykresie, aby zobaczyć uzasadnienie."
        },
        en: {
            pageTitle: "Interactive Guide: Advanced Model Merging",
            guideTitle: "Model Merging Guide",
            "nav.blueprints": "Blueprints", "nav.recipes": "Recipes", "nav.analysis": "Analysis", "nav.glossary": "Glossary",
            "header.title": "Advanced Model Merging",
            "header.subtitle": "An interactive guide to three merging philosophies for creating a model for retro anime, dark fantasy, and sci-fi game assets. Choose a strategy to explore its components and recipes.",
            "strategy.sdxl": "\"SDXL Grafting\" Strategy", "strategy.pony": "\"Pureblood PONY\" Strategy", "strategy.hybrid": "\"Hybrid Patching\" Strategy",
            "sdxl.blueprint.title": "Blueprint: \"SDXL Grafting\" Strategy",
            "sdxl.blueprint.description": "This strategy uses a stable anime-style host model and surgically injects specific \"skills\" from architecturally different `SDXL 1.0` donors using the DARE-TIES algorithm. The goal is to combine a clean retro anime style (Priority 1) with dark fantasy/sci-fi aesthetics (Priority 2) and a painterly style (Priority 3).",
            "sdxl.blueprint.card1.role": "Model A (Host, Priority 1)", "sdxl.blueprint.card1.desc": "Provides the fundamental scaffolding: excellent anatomy, composition, and a vibrant retro anime style with clean lines.",
            "sdxl.blueprint.card2.role": "Model B (Bridge)", "sdxl.blueprint.card2.desc": "Acts as a bridge, blending the clean anime look with a semi-realistic feel to make the host more receptive to donors.",
            "sdxl.blueprint.card3.role": "Painterly Style Donor (Priority 3)", "sdxl.blueprint.card3.desc": "Injects a painterly, heroic fantasy essence in the style of Frazetta and Vallejo, providing the desired textural finish.",
            "sdxl.blueprint.card4.role": "Thematic Donor (Priority 2)", "sdxl.blueprint.card4.desc": "A powerful donor for injecting dark, raw, horror, and sci-fi thematic content.",
            "sdxl.recipes.title": "Recipe & Implementation: SDXL Grafting",
            "sdxl.recipes.step1.title": "Step 1: Host Creation (Block Weight Merge)",
            "sdxl.recipes.step1.desc": "First, we create a robust host model by merging Animij (Model A) and Graycolor (Model B). The `weight` value refers to Model B's contribution. A weight of `1.0` is 100% Model B, and `0.0` is 100% Model A.",
            "sdxl.recipes.step1.btnBalanced": "Recipe A: Balanced", "sdxl.recipes.step1.btnHost": "Recipe B: Host-Dominant", "sdxl.recipes.step1.btnDonor": "Recipe C: Donor-Receptive",
            "sdxl.recipes.explanation.balanced": "<strong>Goal:</strong> To create a balanced base where the anime style is prominent but muted enough to accept donors. <br><strong>Rationale:</strong> Weights are low in the input blocks (IN) to preserve the Host's strong anatomy, ramp up towards the middle block (M) to blend styles, and taper off in the output blocks (OUT) to retain the Host's details.",
            "sdxl.recipes.justification.balanced.0": "Host Dominance (Animij @ 90%) for base composition and lineart style.",
            "sdxl.recipes.justification.balanced.1": "Maintaining strong Host dominance (88%) to lock in anatomical structure.",
            "sdxl.recipes.justification.balanced.2": "Host (85%) still leads, defining the subject's form.",
            "sdxl.recipes.justification.balanced.3": "Subtle softening of the pure anime aesthetic (Host @ 82%).",
            "sdxl.recipes.justification.balanced.4": "Introducing 25% of Graycolor's semi-realistic properties into the anime structure.",
            "sdxl.recipes.justification.balanced.5": "Graycolor's influence (30%) grows, affecting mid-level features.",
            "sdxl.recipes.justification.balanced.6": "The blend moves towards a balance of styles (Host @ 65%).",
            "sdxl.recipes.justification.balanced.7": "Nearing the middle block, the models approach equilibrium.",
            "sdxl.recipes.justification.balanced.8": "Host maintains a slight edge (55%) just before the bottleneck.",
            "sdxl.recipes.justification.balanced.9": "An exact 50/50 split to create a balanced transition.",
            "sdxl.recipes.justification.balanced.10": "Graycolor takes a slight lead for the first time (52%), defining the concept.",
            "sdxl.recipes.justification.balanced.11": "Reinforcing Graycolor's conceptual dominance (55%).",
            "sdxl.recipes.justification.balanced.12": "Graycolor receives its strongest weight (60%) at the core, embedding the painterly style.",
            "sdxl.recipes.justification.balanced.13": "Graycolor remains dominant (58%), propagating its style outward.",
            "sdxl.recipes.justification.balanced.14": "The balance begins to shift back towards the host (45%).",
            "sdxl.recipes.justification.balanced.15": "Graycolor still has a slight majority (52%), influencing early details.",
            "sdxl.recipes.justification.balanced.16": "A second perfect 50/50 split for details and texture.",
            "sdxl.recipes.justification.balanced.17": "Host regains the lead (53%), applying its clean interpretation.",
            "sdxl.recipes.justification.balanced.18": "Emphasis on the host increases (58%), focusing on clean lines.",
            "sdxl.recipes.justification.balanced.19": "Stronger weight for the host (65%) for fine details.",
            "sdxl.recipes.justification.balanced.20": "Host dominates (70%), refining textures.",
            "sdxl.recipes.justification.balanced.21": "Significant weight for the host (75%) for the final pass.",
            "sdxl.recipes.justification.balanced.22": "Heavily favors the host (80%) for high-frequency details.",
            "sdxl.recipes.justification.balanced.23": "Strongly favors the host (85%) to ensure sharp and clean lines.",
            "sdxl.recipes.justification.balanced.24": "A final, decisive weight for the host (90%) to ensure a clean and vibrant output.",

            "sdxl.recipes.explanation.host_dominant": "<strong>Goal:</strong> To emphasize the Host's clean anime style at the expense of donor receptiveness. <br><strong>Rationale:</strong> Weights for Model B are kept very low throughout most of the blocks, ensuring the foundational structure, style, and details are dominated by Model A (Animij).",
            "sdxl.recipes.justification.host_dominant.0": "Maximum structural integrity from the Host (95%).",
            "sdxl.recipes.justification.host_dominant.1": "Overwhelming Host control (92%) over anatomy.",
            "sdxl.recipes.justification.host_dominant.2": "Clean form from Animij (90%).",
            "sdxl.recipes.justification.host_dominant.3": "Minimal stylistic influence (Host @ 88%).",
            "sdxl.recipes.justification.host_dominant.4": "Prioritizing Host structure (85%).",
            "sdxl.recipes.justification.host_dominant.5": "Style close to Animij (80%).",
            "sdxl.recipes.justification.host_dominant.6": "3:1 ratio in favor of Host structure.",
            "sdxl.recipes.justification.host_dominant.7": "Strong host control (70%).",
            "sdxl.recipes.justification.host_dominant.8": "Final say for Animij (65%) before the core.",
            "sdxl.recipes.justification.host_dominant.9": "A blend favoring the host (60%).",
            "sdxl.recipes.justification.host_dominant.10": "Slight host advantage (55%) in concept.",
            "sdxl.recipes.justification.host_dominant.11": "Equal split just before the core.",
            "sdxl.recipes.justification.host_dominant.12": "Even at the core, a strong host presence (45%).",
            "sdxl.recipes.justification.host_dominant.13": "Starting reconstruction with an even split.",
            "sdxl.recipes.justification.host_dominant.14": "Immediate re-assertion of host control (55%).",
            "sdxl.recipes.justification.host_dominant.15": "Strengthening host control (60%) over early details.",
            "sdxl.recipes.justification.host_dominant.16": "Prioritizing host logic (65%).",
            "sdxl.recipes.justification.host_dominant.17": "Strong host control (70%) over reconstruction.",
            "sdxl.recipes.justification.host_dominant.18": "3:1 ratio for host lines (75%).",
            "sdxl.recipes.justification.host_dominant.19": "Favoring the host (80%) for fine details.",
            "sdxl.recipes.justification.host_dominant.20": "Textures mainly from the host (85%).",
            "sdxl.recipes.justification.host_dominant.21": "Structural polishing by the host (88%).",
            "sdxl.recipes.justification.host_dominant.22": "Maximum clarity from the host (90%).",
            "sdxl.recipes.justification.host_dominant.23": "Exceptionally clean lines (Host @ 92%).",
            "sdxl.recipes.justification.host_dominant.24": "A pure Animij style output (95%).",
            
            "sdxl.recipes.explanation.donor_receptive": "<strong>Goal:</strong> To make the Host as receptive as possible to stylistic inputs, even at the risk of weakening its core identity. <br><strong>Rationale:</strong> Weights for Model B are significantly higher, especially in the middle block (M) and late input blocks (IN), allowing Model B to heavily influence the core style and concept.",
            "sdxl.recipes.justification.donor_receptive.0": "A gentler start (Host @ 85%).",
            "sdxl.recipes.justification.donor_receptive.1": "Early weakening of host control (82%).",
            "sdxl.recipes.justification.donor_receptive.2": "Strong early voice for Graycolor (20%).",
            "sdxl.recipes.justification.donor_receptive.3": "Prioritizing style mixing (Host @ 78%).",
            "sdxl.recipes.justification.donor_receptive.4": "A strong push towards Graycolor's style (30%).",
            "sdxl.recipes.justification.donor_receptive.5": "Significant Graycolor influence (35%).",
            "sdxl.recipes.justification.donor_receptive.6": "60/40 split in favor of the Host.",
            "sdxl.recipes.justification.donor_receptive.7": "Near-equal split (Host @ 55%).",
            "sdxl.recipes.justification.donor_receptive.8": "Equal split for fusion.",
            "sdxl.recipes.justification.donor_receptive.9": "Graycolor leads (55%) into the core.",
            "sdxl.recipes.justification.donor_receptive.10": "Reinforcing Graycolor's influence (58%).",
            "sdxl.recipes.justification.donor_receptive.11": "Strong weight for Graycolor (60%).",
            "sdxl.recipes.justification.donor_receptive.12": "Decisive weight for Graycolor (65%) at the core.",
            "sdxl.recipes.justification.donor_receptive.13": "Strong Graycolor influence (62%) in reconstruction.",
            "sdxl.recipes.justification.donor_receptive.14": "Maintaining weight for Graycolor (60%).",
            "sdxl.recipes.justification.donor_receptive.15": "Prioritizing painterly style (58%).",
            "sdxl.recipes.justification.donor_receptive.16": "A split favoring the donor (55%).",
            "sdxl.recipes.justification.donor_receptive.17": "Equal split for features.",
            "sdxl.recipes.justification.donor_receptive.18": "Return to Animij (55%) for lines.",
            "sdxl.recipes.justification.donor_receptive.19": "60/40 split for the host.",
            "sdxl.recipes.justification.donor_receptive.20": "Strengthening host control (65%).",
            "sdxl.recipes.justification.donor_receptive.21": "70/30 split for polishing.",
            "sdxl.recipes.justification.donor_receptive.22": "Strong host presence (75%) for clarity.",
            "sdxl.recipes.justification.donor_receptive.23": "Lines mainly from the host (80%).",
            "sdxl.recipes.justification.donor_receptive.24": "Strong host weight (85%) for a clean finish.",

            "sdxl.recipes.step2.title": "Step 2: Skill Injection (DARE-TIES)",
            "sdxl.recipes.step2.desc": "In this step, we use the advanced `Model Merger (Advanced/DARE)` node. This method is an alternative to block merging and ignores the weights set for individual blocks. Control over the process is done via DARE and TIES parameters. The overall model weight should be set to `1.0` for the changes to be fully applied.",
            "sdxl.recipes.step2a.title": "Step 2a: Inject Painterly Style (Priority 3)",
            "sdxl.recipes.step2a.trimDesc": "Use the `Magnitude Masker` node to keep the top 40% of changes.",
            "sdxl.recipes.step2a.justification": "`threshold: 0.60` in `quantile` mode preserves the top 40% of change vectors, precisely isolating the painterly style's essence. `density: 0.45` further thins these vectors, preventing the anime base from being overwritten. The `sum` mode is the standard, recommended choice for TIES.",
            "pony.blueprint.title": "Blueprint: \"Pureblood PONY\" Strategy",
            "pony.blueprint.description": "This strategy stays within the architecturally consistent \"Pony\" family, ensuring high compatibility and stability. It uses `JANKU` for solid anatomy and `NEW ERA V5` for thematics, merging them with the painterly `Graycolor` and `SinGlo` models to create a polished, coherent, and vector-ready result.",
            "pony.blueprint.card1.role": "Host / Structural Base", "pony.blueprint.card1.desc": "A versatile model from the `NoobAI` family that provides a solid anatomical base and a receptive foundation for dark themes.",
            "pony.blueprint.card2.role": "Thematic Base", "pony.blueprint.card2.desc": "A model with a strong style that will be merged with JANKU's better anatomy to create a \"Dark Anime\" base.",
            "pony.blueprint.card3.role": "Painterly Style Foundation", "pony.blueprint.card3.desc": "A model from the `Illustrious` family that provides a semi-realistic, painterly base for the final finish.",
            "pony.blueprint.card4.role": "Texture Detail Donor", "pony.blueprint.card4.desc": "A model from the `Illustrious` family with a unique, sharp style that will add textural complexity.",
            "pony.recipes.title": "Recipe & Implementation: Pureblood PONY",
            "pony.recipes.step1.title": "Multi-Stage Block Merging",
            "pony.recipes.step1.desc": "This approach uses a sequence of merges to build the final model layer by layer. Select a stage to see its recipe. The chart will update to show the block weights. Hover over any block for a detailed justification.",
            "pony.recipes.step1.btnStage1": "Stage 1: \"Dark Anime\" Base", "pony.recipes.step1.btnStage2": "Stage 2: \"Painterly Bridge\"", "pony.recipes.step1.btnStage3": "Stage 3: Final Fusion",
            "pony.recipes.explanation.stage1": "<strong>Goal:</strong> To combine the superior anatomy of JANKU (Model A) with the dark, stylized theme of NEW ERA (Model B). <br><strong>Rationale:</strong> Low weights for Model B in the early blocks (IN00-04) preserve JANKU's anatomy. The weights increase in the middle (IN05-M00) to fully integrate NEW ERA's thematic style, then gradually decrease in the output blocks (OUT) to retain subtle structural details from JANKU.",
            "pony.recipes.justification.stage1.0": "Favors JANKU anatomy (90%) for strong foundations.",
            "pony.recipes.justification.stage1.1": "Solidifying composition and poses (JANKU @ 88%).",
            "pony.recipes.justification.stage1.2": "Introducing NEW ERA's thematic style (15%).",
            "pony.recipes.justification.stage1.3": "Gradually increasing NEW ERA's influence (18%).",
            "pony.recipes.justification.stage1.4": "4:1 ratio ensures JANKU's anatomy dominates (80%).",
            "pony.recipes.justification.stage1.5": "Giving NEW ERA 25% influence on features.",
            "pony.recipes.justification.stage1.6": "Balancing NEW ERA's style (30%) with JANKU's coherence.",
            "pony.recipes.justification.stage1.7": "Approaching an even mix.",
            "pony.recipes.justification.stage1.8": "Giving NEW ERA 40% influence before the core.",
            "pony.recipes.justification.stage1.9": "Slight JANKU advantage (55%) for stability.",
            "pony.recipes.justification.stage1.10": "Balanced split for a stable transition.",
            "pony.recipes.justification.stage1.11": "Slight NEW ERA advantage (52%) for concept.",
            "pony.recipes.justification.stage1.12": "55% majority for NEW ERA at the core to embed themes.",
            "pony.recipes.justification.stage1.13": "Balanced split for a novel fusion.",
            "pony.recipes.justification.stage1.14": "Re-asserting JANKU's structural control (55%).",
            "pony.recipes.justification.stage1.15": "Increasing JANKU's influence (60%) for coherent details.",
            "pony.recipes.justification.stage1.16": "Prioritizing JANKU's logic (65%).",
            "pony.recipes.justification.stage1.17": "70/30 split for detail coherence (JANKU @ 70%).",
            "pony.recipes.justification.stage1.18": "3:1 ratio in favor of JANKU (75%) for clean lines.",
            "pony.recipes.justification.stage1.19": "Favoring JANKU (80%) for fine details.",
            "pony.recipes.justification.stage1.20": "Strong JANKU advantage (82%) for texture refinement.",
            "pony.recipes.justification.stage1.21": "Ensuring coherent composition (JANKU @ 85%).",
            "pony.recipes.justification.stage1.22": "Favoring JANKU (88%) for sharpness.",
            "pony.recipes.justification.stage1.23": "90% weight for JANKU for sharp, clean lines.",
            "pony.recipes.justification.stage1.24": "Final weight for JANKU (92%) for a clean output.",

            "pony.recipes.explanation.stage2": "<strong>Goal:</strong> To create a painterly layer by merging the semi-realistic base of Graycolor (Model A) with the unique texture details of SinGlo (Model B). <br><strong>Rationale:</strong> Moderate weights for Model B in the mid-to-late blocks (IN08-OUT08) allow SinGlo's distinctive textures to be introduced without overpowering the more subdued, painterly base of Graycolor.",
            "pony.recipes.justification.stage2.0": "Establishing Graycolor's semi-realism (85%) as the base.",
            "pony.recipes.justification.stage2.1": "Maintaining Graycolor's dominance (85%) for coherence.",
            "pony.recipes.justification.stage2.2": "Introducing SinGlo's textures (20%).",
            "pony.recipes.justification.stage2.3": "Continuing the style blend (SinGlo @ 20%).",
            "pony.recipes.justification.stage2.4": "Increasing SinGlo's influence (25%).",
            "pony.recipes.justification.stage2.5": "Giving SinGlo (30%) a voice in details.",
            "pony.recipes.justification.stage2.6": "Giving SinGlo (30%) a voice in details.",
            "pony.recipes.justification.stage2.7": "Approaching an even texture mix.",
            "pony.recipes.justification.stage2.8": "Approaching an even texture mix.",
            "pony.recipes.justification.stage2.9": "Significant SinGlo influence (40%).",
            "pony.recipes.justification.stage2.10": "Significant SinGlo influence (40%).",
            "pony.recipes.justification.stage2.11": "Significant SinGlo influence (40%).",
            "pony.recipes.justification.stage2.12": "Near-even split at the core.",
            "pony.recipes.justification.stage2.13": "Slight Graycolor advantage (60%).",
            "pony.recipes.justification.stage2.14": "Slight Graycolor advantage (60%).",
            "pony.recipes.justification.stage2.15": "Favoring Graycolor (65%) for stability.",
            "pony.recipes.justification.stage2.16": "Favoring Graycolor (65%) for stability.",
            "pony.recipes.justification.stage2.17": "Emphasizing the painterly character (Graycolor @ 70%).",
            "pony.recipes.justification.stage2.18": "Emphasizing the painterly character (Graycolor @ 70%).",
            "pony.recipes.justification.stage2.19": "Strongly favoring Graycolor (75%).",
            "pony.recipes.justification.stage2.20": "Strongly favoring Graycolor (75%).",
            "pony.recipes.justification.stage2.21": "Graycolor dominance (80%) in details.",
            "pony.recipes.justification.stage2.22": "Graycolor dominance (80%) in details.",
            "pony.recipes.justification.stage2.23": "Clean, painterly finish (Graycolor @ 85%).",
            "pony.recipes.justification.stage2.24": "Clean, painterly finish (Graycolor @ 85%).",

            "pony.recipes.explanation.stage3": "<strong>Goal:</strong> The final fusion, which applies the 'Painterly Bridge' (Model B) on top of the 'Dark Anime' base (Model A). <br><strong>Rationale:</strong> Weights are kept very low at the beginning (IN00-IN06) to protect the anime base's composition and anatomy. They gradually increase to introduce the painterly style in the concept (M00) and details (OUT), but are kept below 0.5 to ensure the painterly aesthetic acts as a finishing layer, not an overwhelming transformation.",
            "pony.recipes.justification.stage3.0": "Favoring the Dark Anime base (90%) for structure.",
            "pony.recipes.justification.stage3.1": "Maintaining structural dominance (Base @ 90%).",
            "pony.recipes.justification.stage3.2": "Introducing painterly texture (12%).",
            "pony.recipes.justification.stage3.3": "Increasing painterly influence (15%).",
            "pony.recipes.justification.stage3.4": "More painterly style (18%).",
            "pony.recipes.justification.stage3.5": "20% painterly influence.",
            "pony.recipes.justification.stage3.6": "Continuing the blend.",
            "pony.recipes.justification.stage3.7": "75/25 split in favor of the Base.",
            "pony.recipes.justification.stage3.8": "Further increasing influence.",
            "pony.recipes.justification.stage3.9": "70/30 split.",
            "pony.recipes.justification.stage3.10": "More weight for style.",
            "pony.recipes.justification.stage3.11": "Strong painterly influence (35%).",
            "pony.recipes.justification.stage3.12": "60/40 split at the core in favor of the Base.",
            "pony.recipes.justification.stage3.13": "Similar split in reconstruction.",
            "pony.recipes.justification.stage3.14": "Return to the Dark Anime base (65%).",
            "pony.recipes.justification.stage3.15": "Strengthening the base anime style (Base @ 68%).",
            "pony.recipes.justification.stage3.16": "70/30 split for details.",
            "pony.recipes.justification.stage3.17": "Prioritizing base interpretation (72%).",
            "pony.recipes.justification.stage3.18": "Strong 75/25 split for lines.",
            "pony.recipes.justification.stage3.19": "Increasing base dominance (78%).",
            "pony.recipes.justification.stage3.20": "80/20 split for details.",
            "pony.recipes.justification.stage3.21": "Prioritizing coherence (Base @ 82%).",
            "pony.recipes.justification.stage3.22": "Favoring the base (85%) for sharp lines.",
            "pony.recipes.justification.stage3.23": "Result defined by the base (88%).",
            "pony.recipes.justification.stage3.24": "Clean finish (Base @ 90%).",

            "pony.assembly.title": "Assembly: \"Pureblood PONY\" Version",
            "pony.assembly.desc": "Even within the Pony family, the `NoobAI` and `Illustrious` branches have different \"vocabularies.\" Sequential CLIP merging is still recommended for maximum control and prompt understanding.",
            "pony.assembly.clip.title": "Creating a Coherent CLIP",
            "pony.assembly.clip.desc": "This sequential merge ensures the final CLIP understands prompts related to both the `NoobAI` base and the `Illustrious` style layer.",
            "pony.assembly.vae.desc": "Although all models are from the Pony family, using the VAE from the final Main Host (`JANKU`) is the safest choice for color accuracy.",
            "pony.assembly.vae.justification": "This ensures the final image is decoded by a VAE matched to the structural base.",
            "hybrid.blueprint.title": "Blueprint: \"Hybrid Patching\" Strategy",
            "hybrid.blueprint.description": "This advanced strategy creates a base from the Pony family and then uses DARE-TIES to \"patch\" its weaknesses (e.g., anatomy) with an SDXL model. This complex but powerful approach combines Pony's stability with SDXL's strength.",
            "hybrid.blueprint.card1.role": "Pony Structural Base", "hybrid.blueprint.card1.desc": "Creates the anatomical foundation of the Pony base.",
            "hybrid.blueprint.card2.role": "Pony Thematic Base", "hybrid.blueprint.card2.desc": "Brings the retro anime aesthetic to the Pony base.",
            "hybrid.blueprint.card3.role": "Pony Painterly Base", "hybrid.blueprint.card3.desc": "Introduces a painterly quality.",
            "hybrid.blueprint.card4.role": "Pony Texture Donor", "hybrid.blueprint.card4.desc": "Adds sharp texture details.",
            "hybrid.blueprint.card5.role": "Anatomical Patch", "hybrid.blueprint.card5.desc": "An SDXL model used to surgically correct flaws in the Pony base.",
            "hybrid.recipes.title": "Recipe & Implementation: Hybrid Patching",
            "hybrid.recipes.step1.title": "Four-Stage Hybrid Recipe",
            "hybrid.recipes.step1.desc": "This recipe involves block merging, a surgical DARE-TIES injection, and a final fusion. Select a stage to see its recipe. Stage 3 is a DARE-TIES process and will show injection parameters instead of a chart.",
            "hybrid.recipes.step1.btnStage1": "Stage 1: Dark Anime Base", "hybrid.recipes.step1.btnStage2": "Stage 2: Painterly Bridge", "hybrid.recipes.step1.btnStage3": "Stage 3: Anatomical Patch", "hybrid.recipes.step1.btnStage4": "Stage 4: Final Fusion",
            "hybrid.recipes.explanation.stage1": "<strong>Goal:</strong> To combine the superior anatomy of JANKU (Model A) with the dark, stylized theme of NEW ERA (Model B), creating a solid Pony base. <br><strong>Rationale:</strong> Identical to Stage 1 of the 'Pureblood Pony' strategy to create the same robust anime base.",
            "hybrid.recipes.justification.stage1.0": "Favors JANKU anatomy (90%) for strong foundations.",
            "hybrid.recipes.justification.stage1.1": "Solidifying composition and poses (JANKU @ 88%).",
            "hybrid.recipes.justification.stage1.2": "Introducing NEW ERA's thematic style (15%).",
            "hybrid.recipes.justification.stage1.3": "Gradually increasing NEW ERA's influence (18%).",
            "hybrid.recipes.justification.stage1.4": "4:1 ratio ensures JANKU's anatomy dominates (80%).",
            "hybrid.recipes.justification.stage1.5": "Giving NEW ERA 25% influence on features.",
            "hybrid.recipes.justification.stage1.6": "Balancing NEW ERA's style (30%) with JANKU's coherence.",
            "hybrid.recipes.justification.stage1.7": "Approaching an even mix.",
            "hybrid.recipes.justification.stage1.8": "Giving NEW ERA 40% influence before the core.",
            "hybrid.recipes.justification.stage1.9": "Slight JANKU advantage (55%) for stability.",
            "hybrid.recipes.justification.stage1.10": "Balanced split for a stable transition.",
            "hybrid.recipes.justification.stage1.11": "Slight NEW ERA advantage (52%) for concept.",
            "hybrid.recipes.justification.stage1.12": "55% majority for NEW ERA at the core to embed themes.",
            "hybrid.recipes.justification.stage1.13": "Balanced split for a novel fusion.",
            "hybrid.recipes.justification.stage1.14": "Re-asserting JANKU's structural control (55%).",
            "hybrid.recipes.justification.stage1.15": "Increasing JANKU's influence (60%) for coherent details.",
            "hybrid.recipes.justification.stage1.16": "Prioritizing JANKU's logic (65%).",
            "hybrid.recipes.justification.stage1.17": "70/30 split for detail coherence (JANKU @ 70%).",
            "hybrid.recipes.justification.stage1.18": "3:1 ratio in favor of JANKU (75%) for clean lines.",
            "hybrid.recipes.justification.stage1.19": "Favoring JANKU (80%) for fine details.",
            "hybrid.recipes.justification.stage1.20": "Strong JANKU advantage (82%) for texture refinement.",
            "hybrid.recipes.justification.stage1.21": "Ensuring coherent composition (JANKU @ 85%).",
            "hybrid.recipes.justification.stage1.22": "Favoring JANKU (88%) for sharpness.",
            "hybrid.recipes.justification.stage1.23": "90% weight for JANKU for sharp, clean lines.",
            "hybrid.recipes.justification.stage1.24": "Final weight for JANKU (92%) for a clean output.",

            "hybrid.recipes.explanation.stage2": "<strong>Goal:</strong> To create a painterly layer by merging the semi-realistic base of Graycolor (Model A) with the unique texture details of SinGlo (Model B). <br><strong>Rationale:</strong> Identical to Stage 2 of the 'Pureblood Pony' strategy to create the same style layer.",
            "hybrid.recipes.justification.stage2.0": "Establishing Graycolor's semi-realism (85%) as the base.",
            "hybrid.recipes.justification.stage2.1": "Maintaining Graycolor's dominance (85%) for coherence.",
            "hybrid.recipes.justification.stage2.2": "Introducing SinGlo's textures (20%).",
            "hybrid.recipes.justification.stage2.3": "Continuing the style blend (SinGlo @ 20%).",
            "hybrid.recipes.justification.stage2.4": "Increasing SinGlo's influence (25%).",
            "hybrid.recipes.justification.stage2.5": "Giving SinGlo (30%) a voice in details.",
            "hybrid.recipes.justification.stage2.6": "Giving SinGlo (30%) a voice in details.",
            "hybrid.recipes.justification.stage2.7": "Approaching an even texture mix.",
            "hybrid.recipes.justification.stage2.8": "Approaching an even texture mix.",
            "hybrid.recipes.justification.stage2.9": "Significant SinGlo influence (40%).",
            "hybrid.recipes.justification.stage2.10": "Significant SinGlo influence (40%).",
            "hybrid.recipes.justification.stage2.11": "Significant SinGlo influence (40%).",
            "hybrid.recipes.justification.stage2.12": "Near-even split at the core.",
            "hybrid.recipes.justification.stage2.13": "Slight Graycolor advantage (60%).",
            "hybrid.recipes.justification.stage2.14": "Slight Graycolor advantage (60%).",
            "hybrid.recipes.justification.stage2.15": "Favoring Graycolor (65%) for stability.",
            "hybrid.recipes.justification.stage2.16": "Favoring Graycolor (65%) for stability.",
            "hybrid.recipes.justification.stage2.17": "Emphasizing the painterly character (Graycolor @ 70%).",
            "hybrid.recipes.justification.stage2.18": "Emphasizing the painterly character (Graycolor @ 70%).",
            "hybrid.recipes.justification.stage2.19": "Strongly favoring Graycolor (75%).",
            "hybrid.recipes.justification.stage2.20": "Strongly favoring Graycolor (75%).",
            "hybrid.recipes.justification.stage2.21": "Graycolor dominance (80%) in details.",
            "hybrid.recipes.justification.stage2.22": "Graycolor dominance (80%) in details.",
            "hybrid.recipes.justification.stage2.23": "Clean, painterly finish (Graycolor @ 85%).",
            "hybrid.recipes.justification.stage2.24": "Clean, painterly finish (Graycolor @ 85%).",
            
            "hybrid.recipes.explanation.stage3": "<strong>Cel:</strong> Chirurgiczne wstrzyknięcie lepszej wiedzy anatomicznej z modelu 'Boomer Art' (SDXL) do 'Bazy Dark Anime' (Pony), aby naprawić anatomię bez naruszania stylu hosta. <br><strong>Logika:</strong> Używamy DARE-TIES. Bardzo agresywne przycinanie (`threshold: 0.80`) izoluje tylko 20% najsilniejszych wektorów zmian, które najprawdopodobniej odpowiadają fundamentalnej wiedzy anatomicznej. Niska `gęstość` (0.20) zapewnia, że ta 'łatka' jest stosowana bardzo precyzyjnie i nie zakłóca stylu bazy Pony.",
            "hybrid.recipes.justification.stage3.0": "DARE-TIES nie używa wag blokowych.",
            
            "hybrid.recipes.explanation.stage4": "<strong>Cel:</strong> Zastosowanie 'Mostu Malarskiego' jako warstwy wykończeniowej na 'Bazie z łatką', aby osiągnąć ostateczny wygląd. <br><strong>Logika:</strong> Wagi są utrzymywane bardzo nisko, aby styl malarski był subtelnym wykończeniem, a nie dominującą cechą. Chroni to zarówno bazę anime, jak i precyzyjną 'łatkę' anatomiczną wstrzykniętą w poprzednim etapie.",
            "hybrid.recipes.justification.stage4.0": "Favoring the patched base (92%) for structure.",
            "hybrid.recipes.justification.stage4.1": "Maintaining structural dominance (Base @ 90%).",
            "hybrid.recipes.justification.stage4.2": "Introducing painterly texture (12%).",
            "hybrid.recipes.justification.stage4.3": "Increasing painterly influence (15%).",
            "hybrid.recipes.justification.stage4.4": "More painterly style (18%).",
            "hybrid.recipes.justification.stage4.5": "20% painterly influence.",
            "hybrid.recipes.justification.stage4.6": "Continuing the blend.",
            "hybrid.recipes.justification.stage4.7": "75/25 split in favor of the Base.",
            "hybrid.recipes.justification.stage4.8": "Further increasing influence.",
            "hybrid.recipes.justification.stage4.9": "70/30 split.",
            "hybrid.recipes.justification.stage4.10": "More weight for style.",
            "hybrid.recipes.justification.stage4.11": "Strong painterly influence (35%).",
            "hybrid.recipes.justification.stage4.12": "60/40 split at the core in favor of the Base.",
            "hybrid.recipes.justification.stage4.13": "Similar split in reconstruction.",
            "hybrid.recipes.justification.stage4.14": "Return to the patched base (65%).",
            "hybrid.recipes.justification.stage4.15": "Strengthening the anime style (Base @ 68%).",
            "hybrid.recipes.justification.stage4.16": "70/30 split for details.",
            "hybrid.recipes.justification.stage4.17": "Prioritizing base interpretation (72%).",
            "hybrid.recipes.justification.stage4.18": "Strong 75/25 split for lines.",
            "hybrid.recipes.justification.stage4.19": "Increasing base dominance (78%).",
            "hybrid.recipes.justification.stage4.20": "80/20 split for details.",
            "hybrid.recipes.justification.stage4.21": "Prioritizing coherence (Base @ 82%).",
            "hybrid.recipes.justification.stage4.22": "Favoring the base (85%) for sharp lines.",
            "hybrid.recipes.justification.stage4.23": "Result defined by the base (88%).",
            "hybrid.recipes.justification.stage4.24": "Clean finish (Base @ 92%).",

            "hybrid.assembly.title": "Assembly: Hybrid Version",
            "hybrid.assembly.desc": "CLIP merging is most complex here, requiring a sequential, two-step merge to incorporate the vocabulary of all models.",
            "hybrid.assembly.clip.title": "Creating a \"Trilingual\" CLIP",
            "hybrid.assembly.clip.desc": "To ensure compatibility, we perform a sequential, weighted merge. First, we create the Pony base, then merge it with SDXL.",
            "hybrid.assembly.clip.step1Title": "Step 1: Create Pony Base CLIP",
            "hybrid.assembly.clip.step2Title": "Step 2: Merge with SDXL",
            "hybrid.assembly.clip.final": "Final Trilingual CLIP",
            "hybrid.assembly.clip.noteTitle": "Note: Patching CLIP Incompatibility",
            "hybrid.assembly.clip.noteDesc": "The \"Boomer Art\" model's CLIP (SDXL) is architecturally incompatible with Pony CLIPs. Advanced techniques like DARE-TIES with masking do not apply here, as CLIP merging nodes do not have a mask input. Instead, 'patching' the incompatibility is achieved through a **simple weighted merge** (e.g., in the `CLIPMergeSimple` node), giving a very low weight to the incompatible SDXL CLIP (e.g., 0.15-0.20). This allows for 'injecting' a small amount of its vocabulary without destroying the main Pony base.",
            "hybrid.assembly.vae.desc": "The VAE from the main structural host, `JANKU V4.0`, remains the safest choice for maintaining color consistency despite the complex merges.",
            "hybrid.assembly.vae.justification": "Since the final model is predominantly Pony-based, using a Pony VAE is crucial to prevent artifacts.",
            "analysis.title": "Comparative Analysis and Recommendation",
            "analysis.desc": "Choosing a merging strategy involves a trade-off between stability, stylistic range, and complexity. This section summarizes the key differences to help you decide which version best suits your needs.",
            "analysis.table.header1": "Factor",
            "analysis.table.row1.title": "Core Philosophy", "analysis.table.row1.col1": "Surgical Skill Injection (DARE-TIES)", "analysis.table.row1.col2": "Architectural Harmony (Block Weight Merge)", "analysis.table.row1.col3": "Block Merging + Surgical Patching (DARE-TIES)",
            "analysis.table.row2.title": "Stability", "analysis.table.row2.col1": "Good, but higher risk of artifacts due to cross-architecture merging.", "analysis.table.row2.col2": "Excellent. Merging compatible models is more stable.", "analysis.table.row2.col3": "Very Good. Mostly stable, but the SDXL injection introduces a small risk factor.",
            "analysis.table.row3.title": "Stylistic Range", "analysis.table.row3.col1": "Widest. Can incorporate styles from completely different families.", "analysis.table.row3.col2": "Focused. Perfectly blends styles within the Pony ecosystem for a refined result.", "analysis.table.row3.col3": "Unique. Creates a novel blend by \"patching\" a Pony base with SDXL traits.",
            "analysis.table.row4.title": "Complexity", "analysis.table.row4.col1": "High. Requires DARE-TIES setup.", "analysis.table.row4.col2": "Medium. Straightforward multi-stage block merging.", "analysis.table.row4.col3": "Very High. Combines both techniques in a four-stage process.",
            "analysis.table.row5.title": "Best for...", "analysis.table.row5.col1": "Achieving a very specific, unique blend of disparate aesthetics (e.g., retro anime + Frazetta style).", "analysis.table.row5.col2": "Creating a highly polished and stable model for consistent asset generation with clean lines.", "analysis.table.row5.col3": "Experimental merging to fix flaws (e.g., poor anatomy) in a base model using a donor from another family.",
            "analysis.recommendation.title": "Final Recommendation",
            "analysis.recommendation.p1": "For the goal of creating **consistent game assets** with **clean lines for vectorization**, the **\"Pureblood PONY\" version is the best and safest choice.**",
            "analysis.recommendation.p2": "Its architectural harmony ensures the highest stability and predictability. **\"Hybrid Patching\"** is a powerful alternative for advanced users, but its complexity makes it more experimental. The **\"SDXL Grafting\"** version is best when the desired aesthetic cannot be achieved within a single family.",
            "glossary.title": "Glossary of Terms",
            "glossary.desc": "Understanding the terminology is key to successful model merging. Here are definitions of the core concepts discussed in this guide.",
            "glossary.term1.title": "Block Weight Merging", "glossary.term1.desc": "A technique where different layers (blocks) of two neural networks are merged with different weights. Early layers (IN) control composition and anatomy, the middle layer (M) controls concepts, and late layers (OUT) control details and style. This is a distinct method from DARE-TIES.",
            "glossary.term2.title": "DARE-TIES", "glossary.term2.desc": "An advanced algorithm for surgical skill injection, implemented in `ComfyUI-DareMerge`. It consists of two main mechanisms:", "glossary.term2.li1": "<strong>DARE (`density`):</strong> Determines what percentage (`density`) of change vectors are **kept** during random pruning. It is the inverse of the paper's `drop_rate` (`density = 1 - drop_rate`). A value of `0.2` means 20% are kept and 80% are discarded.", "glossary.term2.li2": "<strong>TIES (`ties_mode`):</strong> Resolves conflicts between models. A key step is \"Trimming,\" which in `ComfyUI-DareMerge` is done using the `Magnitude Masker` node (e.g., with `threshold_type: quantile`) to keep only the most significant changes before the actual merge.",
            "glossary.term3.title": "UNet", "glossary.term3.desc": "The core neural network architecture in diffusion models that generates the image. It consists of input (IN), middle (M), and output (OUT) blocks.",
            "glossary.term4.title": "CLIP", "glossary.term4.desc": "The component that understands text prompts. It translates words into a mathematical representation that the UNet uses to guide image generation. Merging CLIPs is crucial for the model to understand the combined \"vocabulary\" of its parents.",
            "glossary.term5.title": "VAE (Variational Autoencoder)", "glossary.term5.desc": "A small neural network that translates the UNet's output into actual pixels. A good VAE ensures vibrant colors. It's safest to use the VAE from the main base model.",
            "glossary.term6.title": "Architectural Family", "glossary.term6.desc": "A group of models with compatible internal structures (e.g., Pony, SDXL 1.0). Merging within the same family is generally more stable than merging between families, which often requires DARE-TIES to resolve incompatibilities.",
            "dare.trim.title": "Step 1: Trimming (TIES Trim)", "dare.merge.title": "Step 2: Merging (DARE Merge)", "dare.merge.desc": "Use `Model Merger (DARE)` with the created mask.", "dare.hostFromStep1": "Host from Step 1", "dare.justification": "Justification",
            "dare.fixed": "This stage is a DARE operation, which does not use block weights. Parameters are fixed: `density: 0.25`, `threshold: 0.75` (quantile), `ties_mode: sum`.",
            "clip.merge.noobai.title": "`NoobAI` CLIPs Merge", "clip.merge.noobai.weights": "(50% / 50%)", "clip.merge.noobai.result": "`NoobAI` Merge",
            "clip.merge.illustrious.title": "`Illustrious` CLIPs Merge", "clip.merge.illustrious.weights": "(50% / 50%)", "clip.merge.illustrious.result": "`Illustrious` Merge",
            "clip.merge.pony.title": "Final Pony Merge", "clip.merge.pony.weights": "(70% NoobAI / 30% Illustrious)", "clip.merge.pony.final": "Final Coherent CLIP",
            "clip.merge.pony.result": "Pony Base CLIP",
            "clip.merge.hybrid.ponyweights": "(60% NoobAI / 40% Illustrious)", "clip.merge.hybrid.finalweights": "(85% Pony Base / 15% SDXL)",
            "vae.title": "Choosing a VAE for Fidelity", "vae.recommendation": "Top Recommendation",
            "footer.text": "Consolidated Interactive Guide to Advanced Model Merging",
            "chart.hoverPrompt": "Hover over a block on the chart to see the rationale for its weight."
        }
    };
    let currentLanguage = 'pl';

    function setLanguage(lang) {
        currentLanguage = lang;
        document.documentElement.lang = lang;
        document.querySelectorAll('[data-i18n-key]').forEach(el => {
            const key = el.getAttribute('data-i18n-key');
            el.innerHTML = i18nData[lang][key] || i18nData['en'][key] || `[${key}]`;
        });
        
        document.getElementById('lang-pl').classList.toggle('active', lang === 'pl');
        document.getElementById('lang-en').classList.toggle('active', lang === 'en');
        
        if (sdxlChartInstance) updateSdxlChart(document.querySelector('#sdxl-recipe-buttons .active').dataset.recipe);
        if (ponyChartInstance) updatePonyChart(document.querySelector('#pony-recipe-buttons .active').dataset.recipe);
        if (hybridChartInstance || document.querySelector('#hybrid-content').style.display !== 'none') {
             updateHybridChart(document.querySelector('#hybrid-recipe-buttons .active').dataset.recipe);
        }
    }

    // --- Charting Logic (with lazy loading) ---
    const blockLabels = ['IN00', 'IN01', 'IN02', 'IN03', 'IN04', 'IN05', 'IN06', 'IN07', 'IN08', 'IN09', 'IN10', 'IN11', 'M00', 'OUT00', 'OUT01', 'OUT02', 'OUT03', 'OUT04', 'OUT05', 'OUT06', 'OUT07', 'OUT08', 'OUT09', 'OUT10', 'OUT11'];
    let sdxlChartInstance, ponyChartInstance, hybridChartInstance;
    const chartDataStore = {
        sdxl: {
            recipes: {
                balanced: { weights: [0.10, 0.12, 0.15, 0.18, 0.25, 0.30, 0.35, 0.40, 0.45, 0.50, 0.52, 0.55, 0.60, 0.58, 0.55, 0.52, 0.50, 0.47, 0.42, 0.35, 0.30, 0.25, 0.20, 0.15, 0.10] },
                host_dominant: { weights: [0.05, 0.08, 0.10, 0.12, 0.15, 0.20, 0.25, 0.30, 0.35, 0.40, 0.45, 0.50, 0.55, 0.50, 0.45, 0.40, 0.35, 0.30, 0.25, 0.20, 0.15, 0.12, 0.10, 0.08, 0.05] },
                donor_receptive: { weights: [0.15, 0.18, 0.20, 0.22, 0.30, 0.35, 0.40, 0.45, 0.50, 0.55, 0.58, 0.60, 0.65, 0.62, 0.60, 0.58, 0.55, 0.50, 0.45, 0.40, 0.35, 0.30, 0.25, 0.20, 0.15] }
            }
        },
        pony: {
            recipes: {
                stage1: { model1: {pl:'JANKU', en:'JANKU'}, model2: {pl:'NEW ERA V5', en:'NEW ERA V5'}, color1: '#6366F1', color2: '#312E81', weights: [0.10,0.12,0.15,0.18,0.20,0.25,0.30,0.35,0.40,0.45,0.50,0.52,0.55,0.50,0.45,0.40,0.35,0.30,0.25,0.20,0.18,0.15,0.12,0.10,0.08]}, 
                stage2: { model1: {pl:'Graycolor', en:'Graycolor'}, model2: {pl:'SinGlo', en:'SinGlo'}, color1: '#F59E0B', color2: '#78350F', weights: [0.15, 0.15, 0.20, 0.20, 0.25, 0.30, 0.30, 0.35, 0.35, 0.40, 0.40, 0.40, 0.45, 0.40, 0.40, 0.35, 0.35, 0.30, 0.30, 0.25, 0.25, 0.20, 0.20, 0.15, 0.15]}, 
                stage3: { model1: {pl:'"Baza Dark Anime"', en:'"Dark Anime Base"'}, model2: {pl:'"Most Malarski"', en: '"Painterly Bridge"'}, color1: '#1E3A8A', color2: '#78350F', weights: [0.10, 0.10, 0.12, 0.15, 0.18, 0.20, 0.22, 0.25, 0.28, 0.30, 0.32, 0.35, 0.40, 0.38, 0.35, 0.32, 0.30, 0.28, 0.25, 0.22, 0.20, 0.18, 0.15, 0.12, 0.10]} 
            }
        },
        hybrid: {
            recipes: {
                stage1: { model1: {pl:'JANKU', en:'JANKU'}, model2: {pl:'NEW ERA V5', en:'NEW ERA V5'}, color1: '#6366F1', color2: '#312E81', weights: [0.10,0.12,0.15,0.18,0.20,0.25,0.30,0.35,0.40,0.45,0.50,0.52,0.55,0.50,0.45,0.40,0.35,0.30,0.25,0.20,0.18,0.15,0.12,0.10,0.08]},
                stage2: { model1: {pl:'Graycolor', en:'Graycolor'}, model2: {pl:'SinGlo', en:'SinGlo'}, color1: '#F59E0B', color2: '#78350F', weights: [0.15, 0.15, 0.20, 0.20, 0.25, 0.30, 0.30, 0.35, 0.35, 0.40, 0.40, 0.40, 0.45, 0.40, 0.40, 0.35, 0.35, 0.30, 0.30, 0.25, 0.25, 0.20, 0.20, 0.15, 0.15]},
                stage3: { is_dare: true },
                stage4: { model1: {pl:'"Baza z łatką"', en:'"Patched Base"'}, model2: {pl:'"Most Malarski"', en:'"Painterly Bridge"'}, color1: '#1E3A8A', color2: '#78350F', weights: [0.08,0.10,0.12,0.15,0.18,0.20,0.22,0.25,0.28,0.30,0.32,0.35,0.40,0.38,0.35,0.32,0.30,0.28,0.25,0.22,0.20,0.18,0.15,0.12,0.08]}
            }
        }
    };

    const lazyCharts = document.querySelectorAll('.lazy-chart');
    const chartObserver = new IntersectionObserver((entries, observer) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                const chartContainerId = entry.target.id;
                if (chartContainerId === 'sdxlChartContainer' && !sdxlChartInstance) initializeSdxlChart();
                if (chartContainerId === 'ponyChartContainer' && !ponyChartInstance) initializePonyChart();
                if (chartContainerId === 'hybridChartContainer' && !hybridChartInstance) initializeHybridChart();
                observer.unobserve(entry.target);
            }
        });
    }, { rootMargin: "100px" });

    lazyCharts.forEach(chart => chartObserver.observe(chart));

    // --- General Setup ---
    initShaderBackground();
    
    // --- Event Delegation ---
    document.getElementById('strategy-selector').addEventListener('click', (e) => {
        if (e.target.matches('.version-btn')) {
            switchVersion(e.target.id.replace('select-', ''));
        }
    });

    function createRecipeClickHandler(updateFunction) {
        return (e) => {
            if (e.target.matches('.recipe-btn')) {
                const recipeKey = e.target.dataset.recipe;
                e.currentTarget.querySelector('.active').classList.remove('active');
                e.target.classList.add('active');
                updateFunction(recipeKey);
            }
        };
    }

    document.getElementById('sdxl-recipe-buttons').addEventListener('click', createRecipeClickHandler(updateSdxlChart));
    document.getElementById('pony-recipe-buttons').addEventListener('click', createRecipeClickHandler(updatePonyChart));
    document.getElementById('hybrid-recipe-buttons').addEventListener('click', createRecipeClickHandler(updateHybridChart));
    
    document.getElementById('lang-pl').addEventListener('click', () => setLanguage('pl'));
    document.getElementById('lang-en').addEventListener('click', () => setLanguage('en'));
    
    // --- Core Functions ---
    function switchVersion(version) {
        ['sdxl', 'pony', 'hybrid'].forEach(v => {
            document.getElementById(`${v}-content`).style.display = v === version ? 'block' : 'none';
            document.getElementById(`select-${v}`).classList.toggle('active', v === version);
        });
         document.getElementById('nav-blueprints').href = `#${version}-blueprints`;
         document.getElementById('nav-recipes').href = `#${version}-recipes`;
        
         // Trigger chart initialization if it becomes visible
         if (version === 'sdxl' && !sdxlChartInstance) initializeSdxlChart();
         if (version === 'pony' && !ponyChartInstance) initializePonyChart();
         if (version === 'hybrid' && !hybridChartInstance) initializeHybridChart();
    }
    
    function createChart(ctx, onHoverCallback) {
        return new Chart(ctx, {
            type: 'bar',
            options: {
                responsive: true, maintainAspectRatio: false,
                animation: { duration: 800 },
                plugins: {
                    tooltip: { 
                        mode: 'index', intersect: false, 
                        callbacks: { 
                            label: (c) => {
                                const modelALabel = c.chart.data.datasets[0].label;
                                const modelBLabel = c.chart.data.datasets[1].label;
                                if (c.datasetIndex === 0) {
                                    return `${modelALabel}: ${((1 - c.parsed.y) * 100).toFixed(0)}%`;
                                }
                                return `${modelBLabel}: ${(c.parsed.y * 100).toFixed(0)}%`;
                            }
                        },
                        backgroundColor: 'rgba(15, 23, 42, 0.8)', titleFont: { weight: 'bold'}, bodyFont: { size: 12 }, borderColor: '#334155', borderWidth: 1,
                    },
                    legend: { position: 'top', labels: { color: '#cbd5e1' } }
                },
                scales: {
                    x: { stacked: true, grid: { display: false }, ticks: { color: '#94a3b8' } },
                    y: { stacked: true, beginAtZero: true, max: 1.0, grid: { color: '#1e293b' }, ticks: { color: '#94a3b8', callback: (v) => (v * 100) + '%' } }
                },
                onHover: onHoverCallback
            }
        });
    }
    
    function initializeSdxlChart() {
        const ctx = document.getElementById('sdxlChart').getContext('2d');
        const justificationEl = document.getElementById('sdxl-justification');
        const onHover = (e, el) => {
            const activeRecipeKey = document.querySelector('#sdxl-recipe-buttons .active').dataset.recipe;
            justificationEl.textContent = el.length ? `[${blockLabels[el[0].index]}] ` + i18nData[currentLanguage][`sdxl.recipes.justification.${activeRecipeKey}.${el[0].index}`] : i18nData[currentLanguage]['chart.hoverPrompt'];
        };
        sdxlChartInstance = createChart(ctx, onHover);
        updateSdxlChart(document.querySelector('#sdxl-recipe-buttons .active').dataset.recipe);
    }

    function updateSdxlChart(recipeKey) {
        if (!sdxlChartInstance) return;
        const recipe = chartDataStore.sdxl.recipes[recipeKey];
        document.getElementById('sdxl-recipe-explanation').innerHTML = i18nData[currentLanguage][`sdxl.recipes.explanation.${recipeKey}`] || '';
        sdxlChartInstance.data = {
            labels: blockLabels,
            datasets: [
                { label: 'Animij (A)', data: recipe.weights.map(w => 1 - w), backgroundColor: '#4f46e5' },
                { label: 'Graycolor (B)', data: recipe.weights, backgroundColor: '#a5b4fc' }
            ]
        };
        sdxlChartInstance.update('none');
    }

    function initializePonyChart() {
        const ctx = document.getElementById('ponyChart').getContext('2d');
        const justificationEl = document.getElementById('pony-justification');
        const onHover = (e, el) => {
            const activeRecipeKey = document.querySelector('#pony-recipe-buttons .active').dataset.recipe;
             justificationEl.textContent = el.length ? `[${blockLabels[el[0].index]}] ` + i18nData[currentLanguage][`pony.recipes.justification.${activeRecipeKey}.${el[0].index}`] : i18nData[currentLanguage]['chart.hoverPrompt'];
        };
        ponyChartInstance = createChart(ctx, onHover);
        updatePonyChart(document.querySelector('#pony-recipe-buttons .active').dataset.recipe);
    }

    function updatePonyChart(recipeKey) {
        if (!ponyChartInstance) return;
        const recipe = chartDataStore.pony.recipes[recipeKey];
        document.getElementById('pony-recipe-explanation').innerHTML = i18nData[currentLanguage][`pony.recipes.explanation.${recipeKey}`] || '';
        ponyChartInstance.data = {
            labels: blockLabels,
            datasets: [
                { label: `${recipe.model1[currentLanguage] || recipe.model1['en']} (A)`, data: recipe.weights.map(w => 1 - w), backgroundColor: recipe.color1 },
                { label: `${recipe.model2[currentLanguage] || recipe.model2['en']} (B)`, data: recipe.weights, backgroundColor: recipe.color2 }
            ]
        };
        ponyChartInstance.update('none');
    }

    function initializeHybridChart() {
        const ctx = document.getElementById('hybridChart').getContext('2d');
        const justificationEl = document.getElementById('hybrid-justification');
        const onHover = (e, el) => {
            const activeRecipeKey = document.querySelector('#hybrid-recipe-buttons .active').dataset.recipe;
            if (chartDataStore.hybrid.recipes[activeRecipeKey].is_dare) {
                 justificationEl.textContent = i18nData[currentLanguage]['dare.fixed'];
            } else {
                 justificationEl.textContent = el.length ? `[${blockLabels[el[0].index]}] ` + i18nData[currentLanguage][`hybrid.recipes.justification.${activeRecipeKey}.${el[0].index}`] : i18nData[currentLanguage]['chart.hoverPrompt'];
            }
        };
        hybridChartInstance = createChart(ctx, onHover);
        updateHybridChart(document.querySelector('#hybrid-recipe-buttons .active').dataset.recipe);
    }
    
    function updateHybridChart(recipeKey) {
        const recipe = chartDataStore.hybrid.recipes[recipeKey];
        const explanationEl = document.getElementById('hybrid-recipe-explanation');
        const chartContainer = document.getElementById('hybridChartContainer');
        
        explanationEl.innerHTML = i18nData[currentLanguage][`hybrid.recipes.explanation.${recipeKey}`] || '';
        
        if (recipe.is_dare) {
            explanationEl.style.display = 'block';
            chartContainer.style.display = 'none';
        } else {
            explanationEl.style.display = 'block'; // Always show for consistency
            chartContainer.style.display = 'block';
            if (!hybridChartInstance) return;
            hybridChartInstance.data = {
                labels: blockLabels,
                datasets: [
                    { label: `${recipe.model1[currentLanguage] || recipe.model1['en']} (A)`, data: recipe.weights.map(w => 1 - w), backgroundColor: recipe.color1 },
                    { label: `${recipe.model2[currentLanguage] || recipe.model2['en']} (B)`, data: recipe.weights, backgroundColor: recipe.color2 }
                ]
            };
            hybridChartInstance.update('none');
        }
    }

    // Initial state
    setLanguage('pl');
    switchVersion('sdxl');
});
</script>
</body>
</html>
